(window.webpackJsonp=window.webpackJsonp||[]).push([[186,4,28,35,38,78,89,122,170,179,180,188,190],{1016:function(t,e,n){"use strict";n(782)},1017:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,"*[data-v-2ec95d11] .el-dialog{width:500px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden;background:#f6f6f6}*[data-v-2ec95d11] .el-dialog__header{padding:0}*[data-v-2ec95d11] .el-dialog__footer,*[data-v-2ec95d11] .el-dialog__header{text-align:left!important;padding-top:0}*[data-v-2ec95d11] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1018:function(t,e,n){"use strict";n(783)},1019:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,'.tab-container[data-v-2ec95d11]{display:flex;width:100%;border-bottom-width:1px;border-color:rgb(119 181 80 / 0.3)}.tab-button[data-v-2ec95d11]{position:relative;flex:1 1 0%;border-style:none;background-color:rgb(133 131 131 / 0.8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.75rem;padding-bottom:0.75rem;font-size:0.875rem;line-height:1.25rem;font-weight:500;letter-spacing:0.05em;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.tab-button[data-v-2ec95d11]:hover{--tw-bg-opacity:1;background-color:rgb(133 131 131 / var(--tw-bg-opacity))}.tab-button[data-v-2ec95d11]:not(:last-child):after{background-color:rgb(119 181 80 / 0.3);content:"";position:absolute;height:80%;width:1px;top:50%;right:0;transform:translate(50%,-50%)}.tab-button.active[data-v-2ec95d11]{background-color:rgb(119 181 80 / 0.8);--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}',""]),o.locals={},t.exports=o},1045:function(t,e,n){"use strict";n(826)},1046:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,"*[data-v-0520dd43] .el-dialog{width:600px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-0520dd43] .el-dialog__header{padding-bottom:20px}*[data-v-0520dd43] .el-dialog__footer,*[data-v-0520dd43] .el-dialog__header{text-align:left!important}*[data-v-0520dd43] .el-dialog__body{background:#fcfcfd}*[data-v-0520dd43] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1047:function(t,e,n){"use strict";n(827)},1048:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,"*[data-v-60ded996] .el-dialog{width:600px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-60ded996] .el-dialog__header{padding-bottom:20px}*[data-v-60ded996] .el-dialog__footer,*[data-v-60ded996] .el-dialog__header{text-align:left!important}*[data-v-60ded996] .el-dialog__body{background:#fcfcfd}*[data-v-60ded996] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1076:function(t,e,n){var content=n(1209);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("4ead8ada",content,!0,{sourceMap:!1})},1077:function(t,e,n){var content=n(1211);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("1339cf2f",content,!0,{sourceMap:!1})},1101:function(t,e,n){var content=n(1296);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("6485a07e",content,!0,{sourceMap:!1})},1103:function(t,e,n){var content=n(1305);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("702c302a",content,!0,{sourceMap:!1})},1104:function(t,e,n){var content=n(1307);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("5619b14b",content,!0,{sourceMap:!1})},1208:function(t,e,n){"use strict";n(1076)},1209:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,"*[data-v-352a6394] .el-dialog{width:500px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden;background:#f6f6f6}*[data-v-352a6394] .el-dialog__header{padding:0}*[data-v-352a6394] .el-dialog__footer,*[data-v-352a6394] .el-dialog__header{text-align:left!important;padding-top:0}*[data-v-352a6394] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1210:function(t,e,n){"use strict";n(1077)},1211:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,'.tab-container[data-v-352a6394]{display:flex;width:100%;border-bottom-width:1px;border-color:rgb(119 181 80 / 0.3)}.tab-button[data-v-352a6394]{position:relative;flex:1 1 0%;border-style:none;background-color:rgb(133 131 131 / 0.8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.75rem;padding-bottom:0.75rem;font-size:0.875rem;line-height:1.25rem;font-weight:500;letter-spacing:0.05em;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.tab-button[data-v-352a6394]:hover{--tw-bg-opacity:1;background-color:rgb(133 131 131 / var(--tw-bg-opacity))}.tab-button[data-v-352a6394]:not(:last-child):after{background-color:rgb(119 181 80 / 0.3);content:"";position:absolute;height:80%;width:1px;top:50%;right:0;transform:translate(50%,-50%)}.tab-button.active[data-v-352a6394]{background-color:rgb(119 181 80 / 0.8);--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}',""]),o.locals={},t.exports=o},1295:function(t,e,n){"use strict";n(1101)},1296:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,"*[data-v-15cd7456] .el-dialog{width:416px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-15cd7456] .el-dialog__header{padding-bottom:20px}*[data-v-15cd7456] .el-dialog__footer,*[data-v-15cd7456] .el-dialog__header{text-align:left!important}*[data-v-15cd7456] .el-dialog__body{background:#fcfcfd}*[data-v-15cd7456] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1304:function(t,e,n){"use strict";n(1103)},1305:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,"*[data-v-494b16e0] .el-dialog{width:600px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-494b16e0] .el-dialog__header{padding-bottom:20px}*[data-v-494b16e0] .el-dialog__footer,*[data-v-494b16e0] .el-dialog__header{text-align:left!important}*[data-v-494b16e0] .el-dialog__body{background:#fcfcfd}*[data-v-494b16e0] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1306:function(t,e,n){"use strict";n(1104)},1307:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,"*[data-v-34afe836] .el-dialog{width:416px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-34afe836] .el-dialog__header{padding-bottom:20px}*[data-v-34afe836] .el-dialog__footer,*[data-v-34afe836] .el-dialog__header{text-align:left!important}*[data-v-34afe836] .el-dialog__body{background:#fcfcfd}*[data-v-34afe836] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}",""]),o.locals={},t.exports=o},1315:function(t,e,n){"use strict";n.r(e);n(25),n(55),n(27),n(77),n(37),n(28),n(48),n(21),n(49);var o=n(6),r=n(3),l=(n(18),n(32),n(7),n(416),n(88),n(43)),c=n(764),d=n(16),f=(n(1029),n(202)),h=n(60),v=n(282),m=n(418),x=n(819),w=n(832),y=(n(1331),n(842)),_=n.n(y),C=n(843),A=n.n(C);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M=Object(d.a)(c.a).extend({name:"PublishPdfModal",components:{SpinnerDottedIcon:l.default,CheckedFillIcon:f.default,DrawOrTypeModal:x.default,AddToPageDrawOrType:w.default},model:{prop:"visible",event:"updateVisibility"},props:{visible:{type:Boolean,default:!1},tools:{type:Array},file:{type:Object},startGeneratePdf:{type:Function},successFileFunction:{type:Function},trackSubmitTools:{type:Function}},computed:{signature:function(){var t;return(null===(t=this.$auth.user)||void 0===t?void 0:t.signatureURL)||A.a},initial:function(){var t;return(null===(t=this.$auth.user)||void 0===t?void 0:t.initialURL)||_.a},pdfOffsetY:function(){return this.$store.state.pdfOffset_y*this.$store.state.pdfScale},pdfOffsetX:function(){return this.$store.state.pdfOffset_x*this.$store.state.pdfScale},ledgerInfo:function(){var t,e,n,o,r,l,c,d;return{userId:null!==(t=null===(e=this.$auth)||void 0===e||null===(n=e.user)||void 0===n?void 0:n.id)&&void 0!==t?t:this.file.userId,fileName:null===(o=this.file)||void 0===o?void 0:o.fileName,action:null===(r=this.file)||void 0===r?void 0:r.fileAction,fileId:null===(l=this.file)||void 0===l?void 0:l.id,fileOwnerId:null===(c=this.file)||void 0===c?void 0:c.userId,fileOwner:0,isGuest:!(null===(d=this.$store.getters)||void 0===d||!d.getFillAsGuest)}},isSign:function(){return this.file.fileAction==h.a.SIGNED},isConfirm:function(){return String(this.file.fileAction).toLowerCase()===h.a.CONFIRM},isCreator:function(){var t,e,n,o,r,l;return this.file.userId==(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)||(null===(n=this.$auth)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.teamAccess)==m.a.COMPANY_FILE&&(null===(r=this.$auth)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.teamId)==this.file.userId},signLabel:function(){var t,e,n,o=new Date;return"P".concat(this.convertToDoubleString(o.getUTCMonth()+1)).concat(this.convertToDoubleString(o.getUTCDate())).concat(this.convertToDoubleString(o.getFullYear())).concat(this.convertToDoubleString(o.getUTCHours())).concat(this.convertToDoubleString(o.getUTCMinutes())).concat(null===(t=(null===(e=this.$auth.user)||void 0===e?void 0:e.firstName)||"")||void 0===t?void 0:t.charAt(0)).concat(((null===(n=this.$auth.user)||void 0===n?void 0:n.lastName)||"").charAt(0)).toUpperCase()},confirmAnnotation:function(){var t,e,n,o,r,l=new Date;return{signaturePath:this.base64,text:"P".concat(l.getFullYear()).concat(this.convertToDoubleString(l.getUTCDate())).concat(this.convertToDoubleString(l.getUTCDay())).concat(this.convertToDoubleString(l.getUTCHours())).concat(this.convertToDoubleString(l.getUTCMinutes())).concat(null===(t=this.$auth.user)||void 0===t||null===(e=t.firstName)||void 0===e?void 0:e.charAt(0)).concat(null===(n=this.$auth.user)||void 0===n||null===(o=n.lastName)||void 0===o?void 0:o.charAt(0)).toUpperCase(),fileAction:null===(r=this.file)||void 0===r?void 0:r.fileAction}}},data:function(){return{showModal:!1,isLoading:!1,base64:null,proceedToSendEmail:!1,generatedPdf:{},showInitialModal:!1,nonUserRecieveEmail:!1,externalGuestEmail:void 0}},watch:{visible:function(t){this.showModal=t},showModal:function(t){this.$emit("updateVisibility",t)},"$auth.user":function(){var t,e;this.convertImageToBase64(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.signatureURL)}},mounted:function(){this.showModal=this.visible},methods:{imageExportedLocal:function(image,t){this.$BUS.$emit("signature-update",image),this.imageExported(image,t)},confirmCheckedTools:function(){return this.tools.filter((function(t,e){return 0==t.isChecked})).length>0},convertToDoubleString:function(t){return Number(t)<10?"0".concat(t):t},convertImageToBase64:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return o=n.sent,n.next=5,o.blob();case 5:r=n.sent,(l=new FileReader).readAsDataURL(r),l.onloadend=function(){var t=l.result;e.base64=t};case 9:case"end":return n.stop()}}),n)})))()},addToLedger:function(){var t=this;this.$_server.post("/ledger",I({},this.ledgerInfo)).then((function(){t.proceedToSendEmail=!0,t.publishAsGuest()})).catch((function(){t.$notify.error({message:"Error occcured, could not send file"})}))},appendConfirmSign:function(){console.log("appendConfirmSign",Object(v.a)({downloadLink:this.file.downloadLink,file:this.confirmAnnotation,pdfOffset_y:this.pdfOffsetY,pdfOffset_x:this.pdfOffsetX}))},confirmAllSignAndInitials:function(){var t,e,n,o;return(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)==(null===(n=this.file)||void 0===n?void 0:n.userId)||Object(v.a)(null===(o=this.file)||void 0===o?void 0:o.downloadLink)[0].data.filter((function(t){return t.hasOwnProperty("uploaded")&&null==t.uploaded})).length<1},confirmRequest:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/pdf-generator",I({},Object(v.a)({downloadLink:null===(n=t.file)||void 0===n?void 0:n.downloadLink,file:t.confirmAnnotation,pdfOffset_y:t.pdfOffsetY,pdfOffset_x:t.pdfOffsetX,signLabel:t.signLabel})[0])).then((function(e){t.generatedPdf=e.data,t.addToLedger()})).catch((function(){})).finally((function(){t.isLoading=!1}));case 2:case"end":return e.stop()}}),e)})))()},otherRequest:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/pdf-generator",I({},Object(v.a)({downloadLink:null===(n=t.file)||void 0===n?void 0:n.downloadLink,pdfOffset_y:t.pdfOffsetY,pdfOffset_x:t.pdfOffsetX,signLabel:t.signLabel})[0])).then((function(e){t.addToLedger(),t.generatedPdf=e.data})).catch((function(){t.$notify.error({message:"Error occcured, could not save file"})})).finally((function(){t.isLoading=!1}));case 2:case"end":return e.stop()}}),e)})))()},sendPdfToEmail:function(){var t,e,n,o,r,l,c,d,f=this,h={email:this.externalGuestEmail,action:null!==(t=this.$auth)&&void 0!==t&&null!==(e=t.user)&&void 0!==e&&e.id?null===(n=this.file)||void 0===n?void 0:n.fileAction:"shareFileToGuest",userId:null!==(o=null===(r=this.$auth)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.id)&&void 0!==o?o:0,editedFileLink:null===(c=this.generatedPdf)||void 0===c?void 0:c.downloadLink,fileId:null===(d=this.file)||void 0===d?void 0:d.id};try{this.$_server.post("/request",h).then((function(){var t,e,n,o;f.$store.commit("SET_PDF_EXIT",!0),f.toggleToast({active:!0,msg:" You are done! File has been sent to <b> ".concat(null!==(t=null===(e=f.$store.state)||void 0===e||null===(n=e.file)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.company_name)&&void 0!==t?t:"","</b>")}),f.$store.commit("SET_FILE_SIGNATURE",null),f.$store.commit("SET_FILE_INITIAL",null),f.$auth.loggedIn?f.$nuxt.$router.push("/file-ledger"):f.$nuxt.$router.push("/")}))}catch(t){this.$notify.error({title:"Request",message:"Request Failed"})}finally{this.closeModal(),this.isLoading=!1,this.proceedToSendEmail=!1}},allowLoadingAllAnnotations:function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))},publishAsGuest:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.proceedToSendEmail){e.next=15;break}e.t0=null===(n=t.file)||void 0===n?void 0:n.fileAction,e.next=e.t0===h.a.CONFIRM?4:e.t0===h.a.SIGNED?7:e.t0===h.a.COMPLETE?10:13;break;case 4:return e.next=6,t.confirmRequest();case 6:return e.abrupt("break",13);case 7:return e.next=9,t.otherRequest();case 9:return e.abrupt("break",13);case 10:return e.next=12,t.otherRequest();case 12:return e.abrupt("break",13);case 13:e.next=16;break;case 15:t.sendPdfToEmail();case 16:case"end":return e.stop()}}),e)})))()},publishAsCreator:function(){var t,e,n=this,o=this.tools.filter((function(t){return 1!=t.isDeleted}));this.$axios.patch("/files/".concat(null===(t=this.file)||void 0===t?void 0:t.id),{fileAction:null===(e=this.file)||void 0===e?void 0:e.fileAction,annotaions:JSON.stringify(o)}).then((function(){n.$notify.success({message:"File publish successfully"}),n.closeModal(),n.$store.commit("SET_PDF_EXIT",!0),n.$nuxt.$router.push("/paperlink-files")})).catch((function(){n.$notify.error({message:"Error occcured, could not save file"})})).finally((function(){n.isLoading=!1}))},closeModal:function(){this.$emit("updateVisibility",!1)},successAction:function(){this.$emit("successFileFunction"),this.closeModal()},onSubmit:function(){var t,e,n=this;this.confirmAllSignAndInitials()?this.isCreator||null!==(t=this.$auth.user)&&void 0!==t&&t.signatureURL||(null===(e=this.file)||void 0===e?void 0:e.fileAction)!=h.a.CONFIRM?(this.$emit("startGeneratePdf",!0),this.appendConfirmSign(),this.isLoading=!0,this.isCreator||this.proceedToSendEmail?this.publishAsCreator():(this.$notify.info({message:"Pdf generating.....",duration:7e3}),this.allowLoadingAllAnnotations(6e3).then((function(){n.publishAsGuest(),n.$emit("startGeneratePdf",!1)}))),this.$emit("trackSubmitTools",this.tools)):this.showInitialModal=!0:this.$notify.error({message:"Input all signs and initial to save"})}}}),S=(n(1295),n(1)),component=Object(S.a)(M,(function(){var t,e,n,o=this,r=o._self._c;o._self._setupProxy;return r("el-dialog",{staticClass:"relative text-[#414042]",attrs:{visible:o.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(t){o.showModal=t}},scopedSlots:o._u([{key:"title",fn:function(){return[o.isCreator?o._e():r("h4",{staticClass:"text-center font-semibold text-2xl text-gray-800 pb-2"},[o._v("\n      All Done?\n    ")])]},proxy:!0}])},[r("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[r("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(t){return o.closeModal()}}},[r("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),o._v(" "),o._v(" "),o.nonUserRecieveEmail?r("div",[r("p",{staticClass:"w-full text-center"},[o._v("Enter email copy to be sent to.")]),o._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:o.externalGuestEmail,expression:"externalGuestEmail"}],staticClass:"py-2 w-full rounded my-3 border-[1px] border-gray-200 px-2",attrs:{type:"text",placeholder:"--Enter email--"},domProps:{value:o.externalGuestEmail},on:{input:function(t){t.target.composing||(o.externalGuestEmail=t.target.value)}}}),o._v(" "),r("p",{staticClass:"flex justify-center"},[r("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[150px] max-w-[50%] text-white rounded-lg shadow bg-paperdazgreen-400 ml-1",attrs:{disabled:o.isLoading},on:{click:o.onSubmit}},[r("span",{staticClass:"inline-flex gap-1 items-center"},[o._v("\n          Send\n          "),r("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:o.isLoading,expression:"isLoading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)])])]):r("div",[o.isConfirm?r("div",{staticClass:"flex justify-center pb-2"},[r("CheckedFillIcon",{attrs:{width:"90"}})],1):o._e(),o._v(" "),o.isCreator?r("span",{staticClass:"w-full text-center block py-0 px-2 pb-8 text-[16px] break-normal"},[o._v("Do you want to publish the file as\n      "),r("span",{staticClass:"capitalize"},[o._v("\n        "+o._s(o.file.fileAction+" & "+o.file.filePrivacy.replace("p","P")+"?"))])]):o._e(),o._v(" "),!o.isCreator&&o.$auth.loggedIn?r("span",{staticClass:"w-full text-center block py-0 px-2 pb-8 text-[16px] mb-6"},[o._v("\n      If so, we will send a copy to your email.\n    ")]):o._e(),o._v(" "),r("div",{staticClass:"flex justify-around mt-0"},[r("button",{staticClass:"h-10 text-xs w-[150px] max-w-[50%] rounded-lg shadow border-[#D9251E] mr-1",class:o.isConfirm?"bg-zinc-500 border-[0px] text-white":"bg-white border-[1px] text-[#D9251E]",attrs:{type:"button",disabled:o.isLoading},on:{click:function(t){return o.closeModal()}}},[o._v("\n        "+o._s(o.isCreator?"Cancel":"Back")+"\n      ")]),o._v(" "),r("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[150px] max-w-[50%] text-white rounded-lg shadow bg-paperdazgreen-400 ml-1",attrs:{disabled:o.isLoading},on:{click:o.onSubmit}},[r("span",{staticClass:"inline-flex gap-1 items-center"},[o._v("\n          Yes\n          "),r("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:o.isLoading,expression:"isLoading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)])]),o._v(" "),!o.isCreator&&null!==(t=o.$store.getters)&&void 0!==t&&t.getFillAsGuest?r("span",{staticClass:"w-full text-center block py-0 px-2 pb-8 text-[16px] pt-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:o.nonUserRecieveEmail,expression:"nonUserRecieveEmail"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.nonUserRecieveEmail)?o._i(o.nonUserRecieveEmail,null)>-1:o.nonUserRecieveEmail},on:{change:function(t){var e=o.nonUserRecieveEmail,n=t.target,r=!!n.checked;if(Array.isArray(e)){var l=o._i(e,null);n.checked?l<0&&(o.nonUserRecieveEmail=e.concat([null])):l>-1&&(o.nonUserRecieveEmail=e.slice(0,l).concat(e.slice(l+1)))}else o.nonUserRecieveEmail=r}}}),o._v(" Click here if\n      you want a copy\n    ")]):o._e()]),o._v(" "),r("draw-or-type-modal",{attrs:{src:(null===(e=o.$auth)||void 0===e||null===(n=e.user)||void 0===n?void 0:n.signatureURL)||" ","use-default-button":""},on:{"image-exported":function(t){return o.imageExportedLocal(t,!0)}},model:{value:o.showInitialModal,callback:function(t){o.showInitialModal=t},expression:"showInitialModal"}})],1)}),[],!1,null,"15cd7456",null);e.default=component.exports},1377:function(t,e,n){"use strict";n.r(e);n(28),n(89),n(37),n(32),n(48),n(49);var o=n(6),r=(n(7),n(21),n(59),n(24),n(0)),l=n(43);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=r.default.extend({name:"PdfShareModal",model:{prop:"visible",event:"updateVisibility"},props:{visible:{type:Boolean,default:!1},file:{type:Object}},data:function(){return{showModal:!1,email:"",description:"",emails:[1],loading:!1}},watch:{visible:function(t){this.showModal=t},showModal:function(t){this.$emit("updateVisibility",t)}},mounted:function(){this.showModal=this.visible},methods:{closeModal:function(){this.$emit("updateVisibility",!1)},addEmails:function(){this.emails.push(this.emails.length)},onSubmit:function(t){var e,n,o=this;null==t||t.preventDefault(),this.loading=!0;var r={},l=[];Array.from(t.target.elements).forEach((function(element){"email"==element.type&&l.push(element.value)})),r=d(d({},r),{},{action:"share_file",editedFileLink:(null===(e=this.file)||void 0===e?void 0:e.downloadLink)||"",fileId:(null===(n=this.file)||void 0===n?void 0:n.id)||"",emails:l,note:this.description||""}),this.$axios.$post("/request",r).then((function(t){o.$notify.success({title:"Request",message:"Request sent Successfully"}),o.$emit("updateVisibility",!1),o.$emit("refresh"),o.$nuxt.refresh(),o.description="",o.emails=[0]})).catch((function(t){o.$notify.error({title:"Request",message:"Request Failed"})})).finally((function(){o.loading=!1}))}},components:{SpinnerDottedIcon:l.default}}),h=(n(1304),n(1)),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{staticClass:"relative text-[#414042]",attrs:{visible:t.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{staticClass:"text-center font-semibold text-2xl text-gray-800 pb-2"},[t._v("\n      Share\n    ")])]},proxy:!0}])},[e("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[e("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(e){return t.closeModal()}}},[e("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),t._v(" "),t._v(" "),e("form",{staticClass:"max-w-[470px] mx-auto",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"grid grid-cols-[1fr,min-content] items-center gap-3 mb-8"},[e("div",t._l(t.emails,(function(n){return e("input",{key:t.email,staticClass:"my-1 p-3 w-full border-[1px] border-grey rounded-[7px] outline-green resize-none",attrs:{placeholder:"Email",type:"email",required:""}})})),0),t._v(" "),e("div",{staticClass:"circle circle-18 bg-gray-600 text-white font-medium text-xl cursor-pointer",on:{click:t.addEmails}},[t._v("\n        +\n      ")])]),t._v(" "),e("el-input",{staticClass:"resize-none",attrs:{type:"textarea",rows:6,placeholder:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),e("div",{staticClass:"flex justify-around pt-5"},[e("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[100%] text-white rounded-md shadow bg-paperdazgreen-400",attrs:{disabled:t.loading}},[e("span",{staticClass:"inline-flex gap-1 items-center text-[16px]"},[t._v("\n       Send\n        "),e("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)])])],1)])}),[],!1,null,"494b16e0",null);e.default=component.exports},1378:function(t,e,n){"use strict";n.r(e);n(416),n(7);var o=n(0),r=n(43),l=o.default.extend({name:"maxInviteModal",components:{SpinnerDottedIcon:r.default},model:{prop:"visible",event:"updateVisibility"},props:{fileId:{type:Number},visible:{type:Boolean,default:!1}},data:function(){return{showModal:!1,folder:{},loading:!1}},watch:{visible:function(t){this.showModal=t},showModal:function(t){this.$emit("updateVisibility",t)}},methods:{closeModal:function(){this.$emit("updateVisibility",!1)},DeleteFile:function(){var t=this;this.$BUS.$emit("is-deleted"),this.loading=!0,this.$axios.delete("/files/".concat(this.fileId)).then((function(){t.$nuxt.$router.push("/dashboard"),t.$notify.success({message:"File deleted successfully"}),t.closeModal()})).catch((function(){t.$notify.error({message:"Could not delete file"})})).finally((function(){loading=!1}))}}}),c=(n(1306),n(1)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{staticClass:"relative text-[#414042]",attrs:{visible:t.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(e){t.showModal=e}}},[e("p",{staticClass:"text-center block font-medium max-w-[290px] mx-auto mb-6 break-normal"},[t._v("\n   Are you sure you want to delete these file?\n  ")]),t._v(" "),e("div",{staticClass:"flex justify-around"},[e("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[150px] max-w-[50%] text-white rounded-lg shadow bg-red-500",attrs:{disabled:t.loading},on:{click:function(e){return t.closeModal()}}},[e("span",{staticClass:"inline-flex gap-1 items-center"},[t._v("\n        Cancel\n      ")])]),t._v(" "),e("button",{staticClass:"disabled:bg-opacity-50 flex items-center justify-center disabled:cursor-not-allowed h-10 text-xs w-[150px] max-w-[50%] text-white rounded-lg shadow bg-paperdazgreen-400",attrs:{type:"button",disabled:t.loading},on:{click:t.DeleteFile}},[t._v("\n    Yes  \n    "),e("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)])])}),[],!1,null,"34afe836",null);e.default=component.exports},1552:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNSAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjM0MDEgMTYuMjU0NUwxMi4yMzI2IDExLjI1NTZNMTIuMDM5MSAyLjI1NzcyQzYuNTQwMzUgMi4zNzU5OCAyLjEzODE1IDYuOTcxNyAyLjI1NjQxIDEyLjQ3MDRDMi4zNzQ2NiAxNy45NjkyIDYuOTcwMzggMjIuMzcxNCAxMi40NjkxIDIyLjI1MzFDMTcuOTY3OCAyMi4xMzQ4IDIyLjM3IDE3LjUzOTEgMjIuMjUxOCAxMi4wNDA0QzIyLjEzMzUgNi41NDE2NyAxNy41Mzc4IDIuMTM5NDcgMTIuMDM5MSAyLjI1NzcyWiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIuMTczOCA4LjI1NTg2TDEyLjE2NDggOC4yNTYwNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg=="},1707:function(t,e,n){"use strict";n.r(e);n(27),n(37),n(28),n(32),n(7),n(48),n(21),n(49);var o=n(6),r=n(0),l=n(659),c=n(672),d=(n(207),n(203)),f=n(674),h=n(675),v=n(705),m=n(132),x=n(1377),w=n(847),y=n(846),_=(n(417),n(4)),C=n(281),A=n(773),k=n(156),I=n(418),M=n(1315),S=n(288),O=n(60),D=n(1378),j=n(832),P=n(127);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var F=r.default.extend({components:{EllipsisIconVerticalIcon:l.default,ExportIcon:c.default,ShareIcon:d.default,RequestIcon:f.default,CopyIcon:h.default,TrashCanSolidIcon:v.default,TrashCanIcon:m.default,PdfShareModal:x.default,PdfCCFlowModal:w.default,PdfPapertagsModal:y.default,ShareFilesModal:C.default,RequestModal:A.default,QrcodeShare:k.default,PublishPdfModal:M.default,RemoveFileModal:D.default,AddToPageDrawOrType:j.default},beforeMount:function(){},name:"PdfPageActionTray",props:{file:{type:Object,required:!0},pdfContainerDimension:{type:Object},tools:{type:Array},successFileFunction:{type:Function},isDeletedFunc:{type:Function},canceled:{type:Boolean,default:!1},disablePublish:{type:Boolean,default:!1}},data:function(){return{showShareCompanyFiles:!1,showRequestModal:!1,showCCFlowModal:!1,showPapertagsModal:!1,showSaveModal:!1,showQrcodeFiles:!1,fullName:"",saveFunction:"",showPublishModal:!1,showRemoveModal:!1,showPdfInfo:!1}},computed:T(T({},Object(P.e)(["upload_state"])),{},{isFree:function(){var t,e;return(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.role)==_.a.FREE},isPaid:function(){var t,e;return(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.role)==_.a.PAID},isTeam:function(){var t,e;return(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.role)==_.a.TEAM},isCreator:function(){var t,e,n,o,r,l;return this.file.userId==(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)||(null===(n=this.$auth)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.teamAccess)==I.a.COMPANY_FILE&&(null===(r=this.$auth)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.teamId)==this.file.userId},teamAccess:function(){var t,e,n,o;return(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.teamAccess)==I.a.COMPANY_FILE&&(null===(n=this.$auth)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.teamId)==this.file.userId},access:function(){return this.file.filePrivacy},isConfirm:function(){return this.file.fileAction==O.a.CONFIRM&&!this.isCreator},hasAccess:function(){return this.file.filePrivacy==S.a.PRIVATE&&!this.isCreator},businessName:function(){return this.file.user.company_name||"N/A"},uploadedBy:function(){return this.file.uploadedBy||"N/A"},isSign:function(){return String(this.file.fileAction).toLowerCase()===O.a.SIGNED},userRole:function(){return this.$auth.user.role},isAgreedSign:function(){return this.$store.state.agreeSign}}),methods:{cancelPublish:function(){if(this.isConfirm)return this.$store.commit("SET_PDF_EXIT",!0),void this.$router.push("/paperlink-files");if(this.upload_state)this.$store.commit("SET_UPLOAD_STATE",!1),this.$store.commit("SET_PDF_EXIT",!0),this.$router.push("/paperlink-files");else{this.$store.commit("SET_UPLOAD_STATE",!1),this.$store.commit("SET_PDF_EXIT",!0);var t=localStorage.getItem("store_public_profile_path");t?this.$router.push(t):this.$router.push("/paperlink-files"),localStorage.removeItem("store_public_profile_path")}this.$store.commit("SET_FILE_SIGNATURE",null),this.$store.commit("SET_FILE_INITIAL",null)},showQrcodeFileFunc:function(){this.showQrcodeFiles=!0},handleActionChange:function(t){var e=T({},this.file);e.fileAction=t.toLowerCase(),console.log(e.fileAction),this.$emit("update-file",e)},handleAccessChange:function(t){var e=this,n=T({},this.file);n.filePrivacy=String(t).toLowerCase(),this.$emit("update-file",n),this.$axios.patch("/files/".concat(n.id),{filePrivacy:n.filePrivacy}).catch((function(){e.$notify.error({message:"error occured"})}))},checkFilePrivacy:function(){},handleCommand:function(t){switch(String(t).toLowerCase()){case"save":this.saveChanges();break;case"share":this.showShareCompanyFiles=!0;break;case"request":this.showRequestModal=!0;break;case"carbon-copy":this.showCCFlowModal=!0;break;case"papertag":this.showPapertagsModal=!0;break;case"remove":this.showRemoveModal=!0}},saveChanges:function(){this.$store.commit("SET_UPLOAD_STATE",!1),this.saveFunction="saved",this.$emit("publishFileFunction")}},mounted:function(){this.checkFilePrivacy()},watch:{"$auth.user":function(){var t,e,n,o;this.fullName=(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.firstName)+" "+(null===(n=this.$auth)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.lastName)},"$store.state.upload_state":function(){this.upload_state=this.$store.state.upload_state},canceled:function(){this.cancelPublish()}}}),$=n(1),component=Object($.a)(F,(function(){var t,e,o,r,l,c=this,d=c._self._c;c._self._setupProxy;return d("div",{staticClass:"bg-paperdazgreen-300 sm:bg-transparent py-2 flex items-center text-black justify-between ml-[-2%] w-[104%]"},[d("div",{staticClass:"flex items-center gap-lg-4 flex-1 justify-between px-lg-4 px-3 flex-wrap"},[d("span",{staticClass:"font-normal max-w-[12%] truncate"},[c._v("\n      "+c._s(null!==(t=c.file.fileName)&&void 0!==t?t:"")+"\n    ")]),c._v(" "),c._m(0),c._v(" "),c.isCreator?d("el-dropdown",{staticClass:"hidden md:flex font-medium",attrs:{trigger:"click"},on:{command:c.handleActionChange}},[d("span",{staticClass:"el-dropdown-link capitalize"},[c._v("\n        "+c._s(c.file.fileAction)+"\n        "),d("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),c._v(" "),d("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[d("el-dropdown-item",{attrs:{command:"complete",disabled:"completed"==c.file.fileAction}},[c._v("Complete")]),c._v(" "),c.isPaid||c.teamAccess?d("el-dropdown-item",{attrs:{command:"confirm",disabled:"confirm"==c.file.fileAction}},[c._v("\n          Confirm")]):c._e(),c._v(" "),c.isPaid||c.teamAccess?d("el-dropdown-item",{attrs:{command:"sign",disabled:"sign"==c.file.fileAction}},[c._v("Sign\n        ")]):c._e()],1)],1):d("span",{staticClass:"hidden md:inline capitalize font-medium"},[c._v(c._s(c.file.fileAction))]),c._v(" "),c._m(1),c._v(" "),c.isCreator?d("el-dropdown",{staticClass:"font-medium flex",attrs:{trigger:"click"},on:{command:c.handleAccessChange}},[d("span",{staticClass:"el-dropdown-link capitalize"},[c._v("\n        "+c._s(c.access)+" "),d("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),c._v(" "),d("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[d("el-dropdown-item",{attrs:{command:"private"}},[c._v("Private")]),c._v(" "),d("el-dropdown-item",{attrs:{command:"public"}},[c._v("Public")]),c._v(" "),d("el-dropdown-item",{attrs:{command:"doNotPost"}},[c._v("Do-not-post")])],1)],1):d("span",{staticClass:"hidden md:inline capitalize font-medium"},[c._v(c._s(c.access))]),c._v(" "),c._m(2),c._v(" "),d("span",{staticClass:"hidden md:inline"},[c._v(c._s(c.file.userName))]),c._v(" "),c._m(3),c._v(" "),d("span",{staticClass:"hidden md:inline"},[c._v(c._s("".concat((c.file.updatedAt||"").substring(0,10)," - ").concat((c.file.updatedAt||"").substring(11,16)))+"\n    ")]),c._v(" "),d("div",{staticClass:"flex items-center sm:hidden"},[d("span",{staticClass:"cursor-pointer",on:{click:function(t){c.showPdfInfo=!0}}},[d("img",{attrs:{src:n(1552)}})]),c._v(" "),!c.isCreator&&!c.isSign||"free_user"==c.userRole&&c.isSign&&-1==c.isAgreedSign?c._e():d("button",{staticClass:"bg-red-500 w-5 h-5 rounded-full text-xs text-white ml-3",on:{click:c.cancelPublish}},[c._v("x")])])],1),c._v(" "),d("div",{staticClass:"hidden sm:flex items-center justify-end pe-lg-4"},[(c.$auth.loggedIn||null!==(e=c.$store.getters)&&void 0!==e&&e.getFillAsGuest)&&c.isCreator?d("button",{staticClass:"mr-2 text-xs text-white bg-paperdazgreen-400 rounded px-3 h-7 disabled:bg-gray-400 disabled:cursor-not-allowed",on:{click:c.saveChanges}},[c._v("\n      Publish\n    ")]):c._e(),c._v(" "),!(c.$auth.loggedIn||null!==(o=c.$store.getters)&&void 0!==o&&o.getFillAsGuest)||c.isCreator||c.isConfirm?c._e():d("button",{staticClass:"mr-2 text-xs text-white bg-paperdazgreen-400 rounded px-3 h-7 disabled:bg-gray-400 disabled:cursor-not-allowed",on:{click:c.saveChanges}},[c._v("\n      Done\n    ")]),c._v(" "),d("button",{staticClass:"text-xs text-red-500 bg-white border rounded px-3 h-7 disabled:cursor-not-allowed",on:{click:c.cancelPublish}},[c._v("\n      Cancel  \n    ")])]),c._v(" "),d("ShareFilesModal",{attrs:{pdfContainerDimension:c.pdfContainerDimension,userFile:c.file},on:{qrLoad:c.showQrcodeFileFunc},model:{value:c.showShareCompanyFiles,callback:function(t){c.showShareCompanyFiles=t},expression:"showShareCompanyFiles"}}),c._v(" "),d("RequestModal",{attrs:{pdfContainerDimension:c.pdfContainerDimension,userFile:c.file},model:{value:c.showRequestModal,callback:function(t){c.showRequestModal=t},expression:"showRequestModal"}}),c._v(" "),d("pdf-c-c-flow-modal",{attrs:{file:c.file},model:{value:c.showCCFlowModal,callback:function(t){c.showCCFlowModal=t},expression:"showCCFlowModal"}}),c._v(" "),d("pdf-papertags-modal",{attrs:{file:c.file},model:{value:c.showPapertagsModal,callback:function(t){c.showPapertagsModal=t},expression:"showPapertagsModal"}}),c._v(" "),d("QrcodeShare",{attrs:{userFile:c.file},model:{value:c.showQrcodeFiles,callback:function(t){c.showQrcodeFiles=t},expression:"showQrcodeFiles"}}),c._v(" "),d("RemoveFileModal",{attrs:{fileId:c.file.id},model:{value:c.showRemoveModal,callback:function(t){c.showRemoveModal=t},expression:"showRemoveModal"}}),c._v(" "),d("AddToPageDrawOrType",{attrs:{src:(null===(r=c.$auth)||void 0===r||null===(l=r.user)||void 0===l?void 0:l.initialURL)||" ","use-default-button":""},on:{"image-exported":function(t){return c.imageExportedLocal(t,!1)}}}),c._v(" "),d("el-dialog",{staticClass:"bottom-0 overflow-hidden sm:hidden",attrs:{visible:c.showPdfInfo,"append-to-body":!0,"show-close":!1,center:"",width:"100%",top:"100vh","custom-class":"-translate-y-full sm:hidden bottom-sm-modal"},on:{"update:visible":function(t){c.showPdfInfo=t}}},[d("div",{staticClass:"w-full flex flex-col p-0 -mt-8 -mb-4"},[d("div",{staticClass:"border-b flex items-center justify-between py-2"},[d("span",{staticClass:"font-bold"},[c._v("Action")]),c._v(" "),d("span",{staticClass:"capitalize"},[c._v(c._s(c.access))])]),c._v(" "),d("div",{staticClass:"border-b flex items-center justify-between py-2"},[d("span",{staticClass:"font-bold"},[c._v("Privacy")]),c._v(" "),d("span",{staticClass:"capitalize"},[c._v(c._s(c.file.fileAction))])]),c._v(" "),d("div",{staticClass:"border-b flex items-center justify-between py-2"},[d("span",{staticClass:"font-bold"},[c._v("Business")]),c._v(" "),d("span",{},[c._v(c._s(c.businessName))])]),c._v(" "),d("div",{staticClass:"border-b flex items-center justify-between py-2"},[d("span",{staticClass:"font-bold"},[c._v("Uploaded by")]),c._v(" "),d("span",{},[c._v(c._s(c.uploadedBy))])]),c._v(" "),d("div",{staticClass:"border-b flex items-center justify-between py-2"},[d("span",{staticClass:"font-bold"},[c._v("Date")]),c._v(" "),d("span",{},[c._v(c._s((c.file.updatedAt||"").substring(0,10)))])]),c._v(" "),d("div",{staticClass:"flex items-center justify-between py-2"},[d("span",{staticClass:"font-bold"},[c._v("Time")]),c._v(" "),d("span",{},[c._v(c._s((c.file.updatedAt||"").substring(11,16)))])])])])],1)}),[function(){var t=this._self._c;this._self._setupProxy;return t("span",{staticClass:"hidden md:inline"},[t("span",{staticClass:"circle circle-2 bg-[#757575]"})])},function(){var t=this._self._c;this._self._setupProxy;return t("span",{staticClass:"hidden md:inline"},[t("span",{staticClass:"circle circle-2 bg-[#757575]"})])},function(){var t=this._self._c;this._self._setupProxy;return t("span",{staticClass:"hidden md:inline"},[t("span",{staticClass:"circle circle-2 bg-[#757575]"})])},function(){var t=this._self._c;this._self._setupProxy;return t("span",{staticClass:"hidden md:inline"},[t("span",{staticClass:"circle circle-2 bg-[#757575]"})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{PdfCCFlowModal:n(847).default,PdfPapertagsModal:n(846).default})},659:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"EllipsisIconVerticalIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{staticClass:"fill-current",attrs:{width:"4",height:"17",viewBox:"0 0 4 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("ellipse",{attrs:{cx:"1.99991",cy:"1.70001",rx:"1.99991",ry:"1.70001"}}),t._v(" "),e("ellipse",{attrs:{cx:"1.99991",cy:"8.50079",rx:"1.99991",ry:"1.70001"}}),t._v(" "),e("ellipse",{attrs:{cx:"1.99991",cy:"15.2996",rx:"1.99991",ry:"1.70001"}})])}),[],!1,null,null,null);e.default=component.exports},672:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"ExportIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{staticClass:"fill-current",attrs:{width:16/29*33,height:16,viewBox:"0 0 33 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M20.6249 15.6046C19.8645 15.6046 19.25 16.1424 19.25 16.8049V21.6064C19.25 22.2678 18.6339 22.8067 17.8748 22.8067H13.7498V4.80136C13.7498 3.77625 13.0018 2.86037 11.8772 2.51948L11.4701 2.40057H17.8748C18.6339 2.40057 19.25 2.9395 19.25 3.60107V7.20215C19.25 7.8646 19.8645 8.40243 20.6249 8.40243C21.3852 8.40243 21.9998 7.8646 21.9998 7.20215V3.60107C21.9998 1.61569 20.149 0 17.8748 0H3.09373C3.04136 0 2.99756 0.0204407 2.9467 0.026375C2.88048 0.0215396 2.81729 0 2.75007 0C1.23341 0 0 1.07654 0 2.40057V24.007C0 25.0321 0.748004 25.948 1.87265 26.2889L10.1475 28.6969C10.428 28.7725 10.707 28.8086 11 28.8086C12.5167 28.8086 13.7498 27.7318 13.7498 26.4078V25.2075H17.8748C20.149 25.2075 21.9998 23.5918 21.9998 21.6064V16.8049C21.9998 16.1424 21.3852 15.6046 20.6249 15.6046Z"}}),t._v(" "),e("path",{attrs:{d:"M32.5971 11.1544L27.097 6.35301C26.704 6.00969 26.1126 5.90639 25.5985 6.09233C25.0856 6.2785 24.75 6.71654 24.75 7.20163V10.8027H19.2502C18.4911 10.8027 17.875 11.3403 17.875 12.003C17.875 12.6657 18.4911 13.2033 19.2502 13.2033H24.75V16.8043C24.75 17.2894 25.0856 17.7275 25.5985 17.9136C26.1126 18.0996 26.704 17.9963 27.097 17.6532L32.5971 12.8516C33.1346 12.3823 33.1346 11.6236 32.5971 11.1544Z"}})])}),[],!1,null,null,null);e.default=component.exports},674:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"RequestIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{width:"30",height:"22",viewBox:"0 0 30 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("path",{attrs:{d:"M11.5294 6.01562H1.56836V20.7812H11.5294H20.9371V15.3125",stroke:"currentColor","stroke-width":"2"}}),t._v(" "),e("path",{attrs:{d:"M9.31543 9.84375C9.31543 4.4072 13.7226 0 19.1592 0H19.3938C24.8303 0 29.2375 4.4072 29.2375 9.84375V9.84375C29.2375 15.2803 24.8303 19.6875 19.3938 19.6875H19.1592C13.7226 19.6875 9.31543 15.2803 9.31543 9.84375V9.84375Z",fill:"url(#pattern0)"}}),t._v(" "),e("defs",[e("pattern",{attrs:{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"}},[e("use",{attrs:{"xlink:href":"#image0_3707_2269",transform:"translate(0.00588822) scale(0.0329408 0.0333333)"}})]),t._v(" "),e("image",{attrs:{id:"image0_3707_2269",width:"30",height:"30","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABHElEQVRIie3Uv0rDUBQH4E8RB8VBKKLo7qKD1MW5uOj7+AQO4uTm5OALCO6d6qDUUaEKOrpIF6k6CP4ZepUgaU0u5RakP7gQwj35TpKTMMoo5VJHE3Op4c+wWlgYBpwc/zQk/DfcEx+LBNawgXUsoxIuPtNj/zVqeIzB5rGLO/l39te6UnLap7CPl0gwuy6LolXcDgAsBW+iM0C00KOu4nmAaEt3Rn6SN9WzobvFHk094QznuME92uF8J2d/4Yk+yun4HafYxmSf2uhJXglItriB1SLFsSgcZwo/sIfxosX6vNN+mcZrpninBPidOi6U/FFsZdCTCDQ6BwHtYCkl3AjwYUoUHgJcSw2/BbiSApvIHDd1P6F2CniU/58vdUOtNN+oTgkAAAAASUVORK5CYII="}})])])}),[],!1,null,null,null);e.default=component.exports},675:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"CopyIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("path",{attrs:{d:"M0.725586 9.84375C0.725586 4.4072 5.13278 0 10.5693 0H10.8039C16.2405 0 20.6477 4.4072 20.6477 9.84375V9.84375C20.6477 15.2803 16.2405 19.6875 10.8039 19.6875H10.5693C5.13278 19.6875 0.725586 15.2803 0.725586 9.84375V9.84375Z",fill:"url(#pattern0)"}}),t._v(" "),e("defs",[e("pattern",{attrs:{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"}},[e("use",{attrs:{"xlink:href":"#image0_3707_2255",transform:"translate(0.00588822) scale(0.0329408 0.0333333)"}})]),t._v(" "),e("image",{attrs:{id:"image0_3707_2255",width:"30",height:"30","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAuklEQVRIie3WvQ6CMBSG4Vd3HbweL0Di5OAduGjC/TpbLoJF62BNSlPCaT12Ol/SkPDTB8IXKFjyOQID4BfGCFw1YSdAPfAK46YFS1APXIBnwPuWMNp4CVyNx0WqheFTsu87FxUuLlIpvJ/BxxRZZWCfOZ4+TU0m1lphwqoYbLDBBv8N3oTt8KPjJCfFH/1T2NchX4Wk4wEcSuE7sJNcpJH0jh1wBraayNJvUXPeSXLlalKkXJoUydIsb25KjTHUSBgsAAAAAElFTkSuQmCC"}})])])}),[],!1,null,null,null);e.default=component.exports},705:function(t,e,n){"use strict";n.r(e);var o=n(0).default.extend({name:"TrashCanSolidIcon"}),r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("path",{attrs:{d:"M0.647461 10.4688C0.647461 5.0322 5.05466 0.625 10.4912 0.625H10.7258C16.1624 0.625 20.5696 5.0322 20.5696 10.4688C20.5696 15.9053 16.1624 20.3125 10.7258 20.3125H10.4912C5.05465 20.3125 0.647461 15.9053 0.647461 10.4688Z",fill:"url(#pattern0)"}}),t._v(" "),e("defs",[e("pattern",{attrs:{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"}},[e("use",{attrs:{"xlink:href":"#image0_3707_2268",transform:"translate(0.00588822) scale(0.0329408 0.0333333)"}})]),t._v(" "),e("image",{attrs:{id:"image0_3707_2268",width:"30",height:"30","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAtElEQVRIie2VQQ6CQAxFX8R7uPM4xsPgCTmFSzW6niUGBTezMnawLTIQecks+1+bzgD8G4Wjdg9sgeNAvXzNHah/Fb6L4Z3y1LFWTWWQSaf6JFhZulLSjeCYOQH/foMUntrx2d87p1xiMWOS4ssAYjFjkhNnE4s3UoEpowAa7G+4AdZSeGriJ3CzdBy5Ag+LGHx7TtYu4nc8H5FkbbaJ+9gALfqn1MZaFwd0/+YAlF7pwvx5Abo6e/T2cOSLAAAAAElFTkSuQmCC"}})])])}),[],!1,null,null,null);e.default=component.exports},744:function(t,e,n){var content=n(769);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("aca428b0",content,!0,{sourceMap:!1})},745:function(t,e){},746:function(t,e){},747:function(t,e){},748:function(t,e){},749:function(t,e){},750:function(t,e){},751:function(t,e){},752:function(t,e){},753:function(t,e){},754:function(t,e){},764:function(t,e,n){"use strict";var o=n(3),r=(n(18),n(7),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(38));e.a={data:function(){return{fetchDataSign:{},fetchDataInitial:{}}},mounted:function(){this.getUserSignatureToBlob()},mixins:[r.a],methods:{getUserSignatureToBlob:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(null===(o=null===(n=t.$auth)||void 0===n?void 0:n.user)||void 0===o?void 0:o.signatureURL).then((function(t){return t.blob()}));case 2:return t.fetchDataSign=e.sent,e.next=5,fetch(null===(l=null===(r=t.$auth)||void 0===r?void 0:r.user)||void 0===l?void 0:l.initialURL).then((function(t){return t.blob()}));case 5:t.fetchDataInitial=e.sent;case 6:case"end":return e.stop()}}),e)})))()},dataURIToBlob:function(t){var e=t.split(",");if(!(e.length<1)){for(var n=e[0].indexOf("base64")>=0?atob(e[1]):decodeURI(e[1]),o=e[0].split(":")[1].split(";")[0],r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return new Blob([r],{type:o})}},imageExported:function(image,t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.dataURIToBlob(image).size!=e.fetchDataSign.size){n.next=4;break}return n.abrupt("return");case 4:if(e.dataURIToBlob(image).size!=e.fetchDataInitial.size){n.next=6;break}return n.abrupt("return");case 6:if(c=new FormData,console.log(image),c.append("upload",e.dataURIToBlob(image)),c.append("type",t?"signature":"initial"),c.append("userId",null===(l=null===(r=e.$auth||{})||void 0===r?void 0:r.user)||void 0===l?void 0:l.id),t?e.$store.commit("SET_FILE_SIGNATURE",image):e.$store.commit("SET_FILE_INITIAL",image),e.$auth.loggedIn){n.next=14;break}return n.abrupt("return");case 14:e.$axios.$post("/files",c).then(Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.filterUsers();case 2:e.$notify.success({title:t?"Signature":"Initials",message:"Your ".concat(t?"signature":"initials"," has been uploaded")});case 3:case"end":return n.stop()}}),n)})))).catch((function(n){e.$notify.error({title:t?"Signature":"Initials",message:n.message||"Error uploading ".concat(t?"signature":"initials")})}));case 15:case"end":return n.stop()}}),n)})))()}}}},768:function(t,e,n){"use strict";n(744)},769:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,".color-white[data-v-6e86a2b4]{fill:#fff!important}*[data-v-6e86a2b4] .el-dialog{width:416px!important;max-width:95%!important;border-radius:8px!important;position:relative!important;overflow:hidden}*[data-v-6e86a2b4] .el-dialog__header{padding-bottom:20px}*[data-v-6e86a2b4] .el-dialog__footer,*[data-v-6e86a2b4] .el-dialog__header{text-align:left!important}*[data-v-6e86a2b4] .el-dialog__body{background:#fcfcfd}*[data-v-6e86a2b4] .el-select .el-input__inner{padding-top:0!important;padding-bottom:0!important}.icons-container button[data-v-6e86a2b4]{display:inline-flex;height:40px;width:40px;align-items:center;justify-content:center;border-radius:9999px;background-color:rgb(119 195 96 / 0.2)}",""]),o.locals={},t.exports=o},770:function(t,e,n){"use strict";(function(t){var o=n(3),r=(n(27),n(284),n(7),n(25),n(55),n(77),n(33),n(59),n(24),n(28),n(89),n(92),n(29),n(18),n(16)),l=n(815),c=n(207),d=n.n(c),f=n(43);function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}e.a=Object(r.a)(l.a).extend({components:{SpinnerDottedIcon:f.default},name:"SignatureTypeBodyTab",data:function(){return{textValue:"",activeColor:"#000",loading:!1,loadingFont:!1,currentFont:"",fonts:[],updatedFontFamily:""}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:t.$refs.inputElement.focus(),t.changeFont=d.a.debounce(t.changeFont,300);case 4:case"end":return e.stop()}}),e)})))()},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$auth.user,t.textValue="".concat(n.firstName," ").concat(n.lastName),e.next=4,t.getFonts();case 4:case"end":return e.stop()}}),e)})))()},computed:{currentFontObject:function(){var t=this,e=this.fonts.find((function(e){return e.key==t.currentFont}));if(e)return e}},methods:{getFonts:function(){var e=this;return this.$axios.$get("https://www.googleapis.com/webfonts/v1/webfonts?key=".concat(t.env.GOOGLE_FONT_API_KEY||"AIzaSyAq0-u-PdIEZLvk8q6-9fIcPVG-8dtVfkc")).then((function(t){var n,o=function(t){var e=t,n={100:"thin",200:"extralight",300:"light",500:"medium",600:"semibold",700:"bold",800:"extrabold",900:"black"};for(var o in n)e=e.replace(o,"".concat(n[o],"-"));return e.replace(/-+$/,"")},r=h(t.items);try{for(r.s();!(n=r.n()).done;){var l=n.value,c=l.family;for(var d in l.files)e.fonts.push({family:"".concat(c," (").concat(o(d),")"),familyName:c,fontWeight:d,file:l.files[d].replace("http://","https://"),key:"".concat(c," ").concat(o(d))})}}catch(t){r.e(t)}finally{r.f()}var f="Dancing Script semibold";e.fonts.some((function(t){return t.key==f}))||(f=e.fonts.length>0?e.fonts[0].key:""),f&&(e.currentFont=f)}))},clear:function(){this.textValue=""},exportImage:function(){var canvas=document.createElement("canvas"),t=canvas.getContext("2d"),text=this.textValue,e=window.devicePixelRatio||1;if(t){t.font="".concat(100,'px "').concat(this.updatedFontFamily,'"');var n=t.measureText(text),o=n.actualBoundingBoxLeft,r=n.actualBoundingBoxRight,l=n.actualBoundingBoxAscent,c=n.actualBoundingBoxDescent,d=n.fontBoundingBoxAscent,f=n.fontBoundingBoxDescent,h=n.width,v=5*Math.max(Math.abs(l)+Math.abs(c),(Math.abs(d)||0)+(Math.abs(f)||0));canvas.height=v;var m=2*Math.max(h,Math.abs(o)+r);canvas.width=m,t.font="".concat(100,'px "').concat(this.updatedFontFamily,'"'),t.textBaseline="top",t.font="".concat(100*e,'px "').concat(this.updatedFontFamily,'"'),t.fillStyle=this.activeColor,t.fillText(text,m/4,v/4);var x=this.trimCanvas(canvas);this.$emit("export-image",x.toDataURL())}},changeFont:function(){var t=this;this.loadingFont=!0;var e=this.currentFontObject;if(e){var n=new FontFace(e.key,"url(".concat(e.file,")"));console.log(e,n),n.load().then((function(n){document.fonts.add(n),t.updatedFontFamily=e.key})).finally((function(){t.loadingFont=!1}))}}},watch:{currentFontObject:function(){this.changeFont()}}})}).call(this,n(201))},773:function(t,e,n){"use strict";n.r(e);n(28),n(32),n(48),n(49);var o=n(6),r=n(3),l=(n(18),n(7),n(21),n(59),n(24),n(278),n(37),n(27),n(0)),c=n(43),d=n(66),f=n(67),h=n(68),v=n(204),m=n(205),x=n(208),w=n(206),y=n(156);n(740),n(282);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A=l.default.extend({name:"request-modal",components:{SpinnerDottedIcon:c.default,FacebookIcon:d.default,TwitterIcon:f.default,EnvelopeIcon:h.default,PlusIcon:v.default,LinkIcon:m.default,EnvelopeIconShare:x.default,QrcodeIcon:w.default,QrcodeShare:y.default},model:{prop:"visible",event:"updateVisibility"},props:{packagename:{type:String},userFile:{type:Object},visible:{type:Boolean,default:!1}},data:function(){return{showQrcodeFiles:!1,folderTextareaData:"",showModal:!1,loading:!1,twiterLink:"",inputs:[0],generateFileProperty:{},proceedToRequest:!0,generatedFile:{}}},watch:{visible:function(t){this.showModal=t},showModal:function(t){this.$emit("updateVisibility",t)}},mounted:function(){this.showModal=this.visible},methods:{generateAndUploadPdf:function(){},addEmailinputs:function(){var t=!0;Array.from(this.$refs.form.elements).forEach((function(element){"email"!=element.type||element.value.trim()||(t=!1)})),t&&this.inputs.push(this.inputs.length)},showQrcodeFileFuncEmit:function(){this.$emit("qrLoad"),this.$emit("updateVisibility",!1)},closeModal:function(){this.$emit("updateVisibility",!1)},_generatePdf:function(t){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},uploadGeneratedFile:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(Object.keys(e.generateFileProperty).length<1)){n.next=2;break}return n.abrupt("return");case 2:return o={isEditing:!0,downloadLink:t.downloadLink,key:t.key,originalFileId:e.userFile.id,userId:e.$auth.user.id,fileAction:e.userFile.fileAction},n.next=5,e.$axios.$post("/files",C({},o)).then((function(t){e.generatedFile=t})).catch((function(t){e.proceedToRequest=!1}));case 5:case"end":return n.stop()}}),n)})))()},onSubmit:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==t||t.preventDefault(),e.loading=!0,r={},l=[],Array.from(t.target.elements).forEach((function(element){"email"==element.type&&l.push(element.value)})),r=C(C({action:"referral_link"},r),{},{link:"".concat(window.location.origin,"/pdf/").concat(e.userFile.paperLink),fileId:e.userFile.id,emails:l,note:e.folderTextareaData,userId:null===(o=e.$auth.user)||void 0===o?void 0:o.id}),e.$axios.post("/request",r).then((function(t){console.log("request-res",t),e.$notify.success({title:"Request",message:"Request sent Successfully"}),e.$emit("updateVisibility",!1),e.$emit("refresh"),e.$nuxt.refresh()})).catch((function(t){e.$notify.error({title:"Request",message:"Request Failed"})})).finally((function(){e.loading=!1}));case 7:case"end":return n.stop()}}),n)})))()}}}),k=(n(768),n(1)),component=Object(k.a)(A,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{staticClass:"relative text-[#414042]",attrs:{visible:t.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{staticClass:"text-center font-semibold text-xl"},[t._v("Request")])]},proxy:!0}])},[e("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[e("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(e){return t.closeModal()}}},[e("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),t._v(" "),t._v(" "),e("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"text-centerfont-medium flex justify-between item mx-auto mb-4 whitespace-none"},[e("p",{staticClass:"w-[87%]"},t._l(t.inputs,(function(input){return e("input",{key:input,staticClass:"py-2 focus:border-paperdazgray-500 px-4 w-full mb-2 rounded-md border-[1px] border-paperdazgray-500",attrs:{required:"",type:"email",placeholder:"E-mail"}})})),0),t._v(" "),e("button",{staticClass:"w-[35px] h-[35px] rounded-full bg-paperdazgray-500 grid place-content-center",on:{click:function(e){return e.preventDefault(),t.addEmailinputs.apply(null,arguments)}}},[e("span",{staticClass:"text-white text-[30px]"},[t._v("+")])])]),t._v(" "),e("p",{staticClass:"text-center block font-medium mx-auto mb-4 whitespace-none"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.folderTextareaData,expression:"folderTextareaData"}],staticClass:"w-full py-2 px-4 focus:border-paperdazgray-500 outline-none rounded-md h-28 resize-none border-[1px] border-paperdazgray-500",attrs:{required:"",placeholder:"Note..."},domProps:{value:t.folderTextareaData},on:{input:function(e){e.target.composing||(t.folderTextareaData=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"flex justify-around"},[e("button",{staticClass:"disabled:bg-opacity-50 disabled:cursor-progress h-10 text-xs w-[900%] text-white rounded-xl shadow bg-paperdazgreen-400",attrs:{disabled:t.loading}},[e("span",{staticClass:"inline-flex gap-1 items-center text-[16px]"},[t._v("\n         Send\n          "),e("spinner-dotted-icon",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"animate-spin",attrs:{height:"20",width:"20"}})],1)])])])])}),[],!1,null,"6e86a2b4",null);e.default=component.exports},782:function(t,e,n){var content=n(1017);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("153d49ea",content,!0,{sourceMap:!1})},783:function(t,e,n){var content=n(1019);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("872ba740",content,!0,{sourceMap:!1})},785:function(t,e,n){"use strict";var o=n(5),r=n(129).findIndex,l=n(160),c="findIndex",d=!0;c in[]&&Array(1)[c]((function(){d=!1})),o({target:"Array",proto:!0,forced:d},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),l(c)},815:function(t,e,n){"use strict";n(781);e.a={methods:{clear:function(){console.log("Clear method needs to be over-written")},exportImage:function(){console.log("exportImage method needs to be over-written")},trimCanvas2:function(canvas){if(canvas){var t=canvas.getContext("2d");if(t){for(var e=t.getImageData(0,0,canvas.width,canvas.height),n=e.data.length,o=null,r=null,l=null,c=null,d=0,f=0,i=0;i<n;i+=4)0!==e.data[i+3]&&(d=i/4%canvas.width,f=Math.trunc(i/4/canvas.width),null===o&&(o=f),(null===l||d<l)&&(l=d),(null===c||d>c)&&(c=d),(null===r||r<f)&&(r=f));if(null!=r){var h=(r=r||0)-(o=o||0)+20,v=(c=c||0)-(l=l||0)+20,m=t.getImageData(l,o,v,h);canvas.width=v,canvas.height=h,t.putImageData(m,10,10)}}}},trimCanvas:function(t){var e=t.getContext("2d"),n=document.createElement("canvas").getContext("2d");if(!e)return t;var i,o,r,l=e.getImageData(0,0,t.width,t.height),c=l.data.length,d={top:null,left:null,right:null,bottom:null};for(i=0;i<c;i+=4)0!==l.data[i+3]&&(o=i/4%t.width,r=~~(i/4/t.width),null===d.top&&(d.top=r),(null===d.left||o<d.left)&&(d.left=o),(null===d.right||d.right<o)&&(d.right=o),(null===d.bottom||d.bottom<r)&&(d.bottom=r));if(null!=d.bottom){var f=d.bottom-d.top,h=d.right-d.left,v=e.getImageData(d.left,d.top,h,f);return n?(n.canvas.width=h,n.canvas.height=f,n.putImageData(v,0,0),n.canvas):t}}}}},819:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(18),n(284),n(7),n(0)),l=n(820),c=n(839),d=r.default.extend({name:"DrawOrTypeModal",model:{prop:"visible",event:"updateVisibility"},props:{visible:{type:Boolean,default:!1},drawType:{type:String},src:{type:String,default:"https://ichef.bbci.co.uk/news/976/cpsprodpb/B9FF/production/_117751674_satan-shoes1.jpg"},useDefaultButton:{type:Boolean,default:!1}},data:function(){return{showModal:!1,forceDisplaySrc:!0,activeTab:"draw",tabs:[{label:"Draw",value:"draw",component:l.default},{label:"Type",value:"type",component:c.default}]}},watch:{visible:function(t){this.showModal=t,this.forceDisplaySrc=!0},showModal:function(t){this.$emit("updateVisibility",t)}},mounted:function(){this.showModal=this.visible},computed:{displayDefault:function(){return this.forceDisplaySrc&&!!this.src},activeTabComponent:function(){var t=this,e=this.tabs.find((function(e){return e.value===t.activeTab}));return e&&e.component?e.component:{render:function(t){return t("h1","Not Implemented")}}}},methods:{useDefaultImage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.displayDefault){e.next=2;break}return e.abrupt("return");case 2:Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.src);case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,(r=new FileReader).readAsDataURL(o),r.onloadend=function(){var e=r.result;t.imageExported(e)};case 9:case"end":return e.stop()}}),e)})))();case 3:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("updateVisibility",!1)},clear:function(){if(this.displayDefault){var t=this.$refs.activeTabComponent;t&&t.clear()}else this.forceDisplaySrc=!1},exportImage:function(){var t=this.$refs.activeTabComponent;t&&t.exportImage()},imageExported:function(image){image&&(this.$emit("image-exported",image),this.closeModal())}}}),f=(n(1208),n(1210),n(1)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{attrs:{visible:t.showModal,appendToBody:!0,showClose:!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{directives:[{name:"show",rawName:"v-show",value:t.displayDefault,expression:"displayDefault"}],staticClass:"tab-container"},t._l(t.tabs,(function(n){return e("button",{key:n.value,staticClass:"tab-button",class:{active:t.activeTab===n.value},on:{click:function(e){t.activeTab=n.value}}},[t._v("\n        "+t._s(n.label)+"\n      ")])})),0)]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"flex items-center justify-between gap-4"},[e("button",{staticClass:"h-9 rounded border border-gray-100 text-xs px-5 bg-black text-white hover:shadow",on:{click:t.clear}},[t._v("\n        "+t._s(t.displayDefault?"CLEAR":"EDIT")+"\n      ")]),t._v(" "),e("div",{staticClass:"flex items-center justify-end gap-4"},[e("button",{staticClass:"h-9 rounded border border-gray-100 text-paperdazgreen-300 text-xs px-3 bg-white hover:shadow",on:{click:t.closeModal}},[t._v("\n          CANCEL\n        ")]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.displayDefault,expression:"displayDefault"}],staticClass:"h-9 rounded border border-gray-100 bg-paperdazgreen-300 text-xs text-white px-4 hover:shadow",on:{click:t.exportImage}},[t._v("\n          SAVE\n        ")]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.displayDefault&&t.useDefaultButton,expression:"!displayDefault && useDefaultButton"}],staticClass:"h-9 rounded border border-gray-100 bg-paperdazgreen-300 text-xs text-white px-4 hover:shadow",on:{click:t.useDefaultImage}},[t._v("\n          USE\n        ")])])])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"text-center pb-2"},[t._v("Draw your "+t._s(t.drawType))]),t._v(" "),e("transition",{attrs:{mode:"out-in",name:"fade",duration:200}},[t.displayDefault?e("div",{key:"updating",staticClass:"w-full"},[e("transition",{attrs:{mode:"out-in",name:"fade",duration:200}},[e(t.activeTabComponent,{ref:"activeTabComponent",tag:"component",on:{"export-image":function(e){return t.imageExported(e)}}})],1)],1):e("div",{key:"default",staticClass:"border h-56 border-[#C4C4C4] rounded w-full bg-white flex justify-center items-center overflow-hidden p-4"},[e("img",{staticClass:"h-full w-full object-contain",attrs:{src:t.src}})])])],1)}),[],!1,null,"352a6394",null);e.default=component.exports},820:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(18),n(16)),l=n(815),c=n(816),d=Object(r.a)(l.a).extend({name:"SignatureDrawBodyTab",data:function(){return{signaturePad:void 0}},mounted:function(){this.setupCanvases()},methods:{setupCanvases:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var canvas;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:if(canvas=t.$refs.signatureCanvas){e.next=5;break}return e.abrupt("return");case 5:t.signaturePad=new c.a(canvas,{minWidth:2,maxWidth:5}),window.addEventListener("resize",t.resizeCanvas),t.resizeCanvas();case 8:case"end":return e.stop()}}),e)})))()},resizeCanvas:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,canvas;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:if(o=Math.max(window.devicePixelRatio||1,1),canvas=t.$refs.signatureCanvas){e.next=6;break}return e.abrupt("return");case 6:canvas.width=canvas.offsetWidth*o,canvas.height=canvas.offsetHeight*o,null===(n=canvas.getContext("2d"))||void 0===n||n.scale(o,o);case 9:case"end":return e.stop()}}),e)})))()},clear:function(){this.signaturePad&&this.signaturePad.clear()},exportImage:function(){this.$emit("export-image",this.getImage())},getImage:function(){if(this.signaturePad){var canvas=this.$refs.signatureCanvas,t=this.trimCanvas(canvas);if(t)return t.toDataURL()}}},beforeDestroy:function(){try{window.removeEventListener("resize",this.resizeCanvas)}catch(t){}}}),f=n(1),component=Object(f.a)(d,(function(){var t=this._self._c;this._self._setupProxy;return t("div",{staticClass:"grid place-items-center"},[t("div",{staticClass:"w-full mx-auto bg-white rounded"},[t("canvas",{ref:"signatureCanvas",staticClass:"border h-56 border-[#C4C4C4] w-full rounded"})])])}),[],!1,null,null,null);e.default=component.exports},826:function(t,e,n){var content=n(1046);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("135ff2bf",content,!0,{sourceMap:!1})},827:function(t,e,n){var content=n(1048);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("3a5cf888",content,!0,{sourceMap:!1})},832:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(18),n(284),n(7),n(0)),l=n(820),c=n(839),d=r.default.extend({name:"DrawOrTypeModal",model:{prop:"visible",event:"updateVisibility"},props:{visible:{type:Boolean,default:!1},src:{type:String,default:"https://ichef.bbci.co.uk/news/976/cpsprodpb/B9FF/production/_117751674_satan-shoes1.jpg"},useDefaultButton:{type:Boolean,default:!1}},data:function(){return{showModal:!1,forceDisplaySrc:!0,activeTab:"draw",tabs:[{label:"Draw",value:"draw",component:l.default},{label:"Type",value:"type",component:c.default}]}},watch:{visible:function(t){this.showModal=t,this.forceDisplaySrc=!0},showModal:function(t){this.$emit("updateVisibility",t)}},mounted:function(){this.showModal=this.visible},computed:{displayDefault:function(){return this.forceDisplaySrc&&!!this.src},activeTabComponent:function(){var t=this,e=this.tabs.find((function(e){return e.value===t.activeTab}));return e&&e.component?e.component:{render:function(t){return t("h1","Not Implemented")}}}},methods:{useDefaultImage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.displayDefault){e.next=2;break}return e.abrupt("return");case 2:Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.src);case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,(r=new FileReader).readAsDataURL(o),r.onloadend=function(){var e=r.result;t.imageExported(e)};case 9:case"end":return e.stop()}}),e)})))();case 3:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("updateVisibility",!1)},clear:function(){if(this.displayDefault)this.forceDisplaySrc=!1;else{var t=this.$refs.activeTabComponent;t&&t.clear()}},exportImage:function(){var t=this.$refs.activeTabComponent;t&&t.exportImage()},imageExported:function(image){image&&(this.$emit("image-exported",image),this.closeModal())}}}),f=(n(1016),n(1018),n(1)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{attrs:{visible:t.showModal,appendToBody:!0,showClose:!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.displayDefault,expression:"!displayDefault"}],staticClass:"tab-container"},t._l(t.tabs,(function(n){return e("button",{key:n.value,staticClass:"tab-button",class:{active:t.activeTab===n.value},on:{click:function(e){t.activeTab=n.value}}},[t._v("\n        "+t._s(n.label)+"\n      ")])})),0)]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"flex items-center justify-between gap-4"},[e("button",{staticClass:"h-9 rounded border border-gray-100 text-xs px-5 bg-black text-white hover:shadow",on:{click:t.clear}},[t._v("\n        "+t._s(t.displayDefault?"EDIT":"CLEAR")+"\n      ")]),t._v(" "),e("div",{staticClass:"flex items-center justify-end gap-4"},[e("button",{staticClass:"h-9 rounded border border-gray-100 text-paperdazgreen-300 text-xs px-3 bg-white hover:shadow",on:{click:t.closeModal}},[t._v("\n          CANCEL\n        ")]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.displayDefault,expression:"!displayDefault"}],staticClass:"h-9 rounded border border-gray-100 bg-paperdazgreen-300 text-xs text-white px-4 hover:shadow",on:{click:t.exportImage}},[t._v("\n          SAVE\n        ")]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.displayDefault&&t.useDefaultButton,expression:"displayDefault && useDefaultButton"}],staticClass:"h-9 rounded border border-gray-100 bg-paperdazgreen-300 text-xs text-white px-4 hover:shadow",on:{click:t.useDefaultImage}},[t._v("\n          USE\n        ")])])])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"text-center pb-2"},[t._v("Draw your "+t._s(t.displayDefault?"Signature":"Initial"))]),t._v(" "),e("transition",{attrs:{mode:"out-in",name:"fade",duration:200}},[t.displayDefault?e("div",{key:"updating",staticClass:"w-full"},[e("transition",{attrs:{mode:"out-in",name:"fade",duration:200}},[e(t.activeTabComponent,{ref:"activeTabComponent",tag:"component",on:{"export-image":function(e){return t.imageExported(e)}}})],1)],1):e("div",{key:"default",staticClass:"border h-56 border-[#C4C4C4] rounded w-full bg-white flex justify-center items-center overflow-hidden p-4"},[e("img",{staticClass:"h-full w-full object-contain",attrs:{src:t.src}})])])],1)}),[],!1,null,"2ec95d11",null);e.default=component.exports},839:function(t,e,n){"use strict";n.r(e);n(56),n(32),n(7);var o=n(770).a,r=n(1),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.textValue,expression:"textValue"}],ref:"inputElement",staticClass:"w-full bg-white border-b-2 border-paperdazgreen-400 cursor-text mt-2 py-3 px-5 rounded outline-none text-4xl sm:text-5xl caret-paperdazgreen-400 min-h-[110px]",style:{color:t.activeColor,fontFamily:"".concat(this.updatedFontFamily," !important")},attrs:{type:"text",id:"pdf-signature-type-input-box"},domProps:{value:t.textValue},on:{input:function(e){e.target.composing||(t.textValue=e.target.value)}}}),t._v(" "),e("div",{staticClass:"mt-6 flex items-center gap-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.currentFont,expression:"currentFont"}],staticClass:"w-52 max-w-full py-2 px-1 rounded",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.currentFont=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"",disabled:"",hidden:"",selected:""}},[t._v("Select Font")]),t._v(" "),t._l(t.fonts,(function(n){return e("option",{key:n.key,domProps:{value:n.key}},[t._v("\n        "+t._s(n.family)+"\n      ")])}))],2),t._v(" "),e("transition",{attrs:{name:"fade",duration:"50"}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.loadingFont||t.$fetchState.pending,expression:"loadingFont || $fetchState.pending"}],staticClass:"animate-spin text-paperdazgreen-400"},[e("spinner-dotted-icon",{attrs:{height:"20",width:"20"}})],1)])],1)])}),[],!1,null,null,null);e.default=component.exports},842:function(t,e,n){t.exports=n.p+"img/initials.2253fb2.png"},843:function(t,e,n){t.exports=n.p+"img/sign.10a8143.png"},846:function(t,e,n){"use strict";n.r(e);var o=n(63),r=(n(7),n(785),n(283),n(25),n(55),n(0)),l=n(43),c=r.default.extend({name:"PdfPapertagsModal",model:{prop:"visible",event:"updateVisibility"},props:{visible:{type:Boolean,default:!1},file:{type:Object}},data:function(){return{showModal:!1,tag:"",description:"",tags:[],isLoading:!1}},watch:{visible:function(t){this.showModal=t},showModal:function(t){this.$emit("updateVisibility",t)},file:function(t){var e,n,o;this.tags=null!==(e=null===(n=this.file)||void 0===n||null===(o=n.tags)||void 0===o?void 0:o.split(","))&&void 0!==e?e:[]}},mounted:function(){this.showModal=this.visible},methods:{onSubmit:function(){var t,e=this;this.isLoading||(this.isLoading=!0,this.$axios.patch("/files/".concat(null===(t=this.file)||void 0===t?void 0:t.id),{action:"update_tag",tags:Object(o.a)(this.tags)}).then((function(){e.$notify.success({title:"file-tags",message:"Tags saved successful"}),e.$emit("updateVisibility",!1)})).catch((function(){e.$notify.error({title:"file-tags",message:"Tags not saved"})})).finally((function(){e.isLoading=!1})))},closeModal:function(){this.$emit("updateVisibility",!1)},removeItem:function(t){var e=this.tags.findIndex((function(e){return e==t}));e<0||this.tags.splice(e,1)},addItem:function(){var t,e=this;null===(t=event)||void 0===t||t.preventDefault(),this.tags.findIndex((function(t){return t==e.tag}))>=0||!this.tag||(this.tag=String(this.tag).replace(/^#*(.+)/,"$1"),this.tags.push(this.tag),this.tag="")}},components:{SpinnerDottedIcon:l.default}}),d=(n(1045),n(1)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{staticClass:"relative",attrs:{visible:t.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{staticClass:"text-center font-semibold text-2xl text-gray-800 pb-2"},[t._v("\n      Papertags\n    ")])]},proxy:!0}])},[e("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[e("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(e){return t.closeModal()}}},[e("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),t._v(" "),t._v(" "),e("div",{staticClass:"max-w-[470px] mx-auto"},[e("form",{staticClass:"",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.addItem.apply(null,arguments)}}},[e("div",{staticClass:"grid grid-cols-[1fr,min-content] items-center gap-3 mb-8"},[e("el-input",{attrs:{placeholder:"Papertag",type:"text",required:""},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}}),t._v(" "),e("button",{staticClass:"circle circle-18 bg-gray-600 text-white font-medium text-xl",attrs:{type:"submit"}},[t._v("\n          +\n        ")])],1)]),t._v(" "),e("div",{staticClass:"rounded-lg border border-gray-300 min-h-[200px] text-gray-700 p-4"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tags.length>0,expression:"tags.length > 0"}],staticClass:"flex flex-wrap gap-4 flex-wrap"},t._l(t.tags,(function(em){return e("div",{key:em,staticClass:"p-2 flex items-center h-8 gap-1 rounded-full bg-gray-100 border border-gray-300 text-xs"},[t._v("\n          "+t._s(em)+"\n          "),e("button",{staticClass:"p-2 text-red-500 text-xl font-medium",on:{click:function(e){return t.removeItem(em)}}},[t._v("\n            ×\n          ")])])})),0),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.tags.length,expression:"tags.length == 0"}],staticClass:"text-gray-400"},[t._v("\n        Add tags above\n      ")])]),t._v(" "),e("button",{staticClass:"w-full flex justify-center items-center mt-8 bg-paperdazgreen-400 rounded-lg text-white h-12",class:[t.isLoading?"opacity-50":"opacity-100"],attrs:{type:"submit",disabled:t.isLoading},on:{click:t.onSubmit}},[t._v("\n      Send\n      "),e("SpinnerDottedIcon",{staticClass:"ml-2 animate-spin",class:[t.isLoading?"inline-block":"hidden"],attrs:{width:"18",height:"18"}})],1)])])}),[],!1,null,"0520dd43",null);e.default=component.exports},847:function(t,e,n){"use strict";n.r(e);var o=n(63),r=n(3),l=(n(7),n(785),n(283),n(416),n(18),n(0)),c=n(43),d=l.default.extend({name:"PdfCCFlowModal",model:{prop:"visible",event:"updateVisibility"},props:{visible:{type:Boolean,default:!1},file:{type:Object}},data:function(){return{showModal:!1,email:"",description:"",loading:!1,emails:[],subscriptions:{}}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/subscriptions?userId=".concat(localStorage.getItem("paperdaz_userID"))).then((function(e){t.subscriptions=e.data.data[0]})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},watch:{visible:function(t){this.showModal=t},showModal:function(t){this.$emit("updateVisibility",t)},file:function(t){var e,n,o;this.emails=null!==(e=null===(n=this.file)||void 0===n||null===(o=n.cc)||void 0===o?void 0:o.split(","))&&void 0!==e?e:[]}},mounted:function(){this.showModal=this.visible},methods:{onSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.loading||t.emails.length<1)){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,t.$axios.patch("/files/".concat(null===(n=t.file)||void 0===n?void 0:n.id),{action:"update_cc",cc:Object(o.a)(t.emails)}).then((function(e){t.$notify.success({title:"file",message:"carbon copy successful"}),t.closeModal()})).catch((function(e){t.$notify.error({title:"file",message:"carbon copy failled"})})).finally((function(){t.loading=!1}));case 5:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("updateVisibility",!1)},removeItem:function(t){var e=this.emails.findIndex((function(e){return e==t}));e<0||this.emails.splice(e,1)},addItem:function(){var t,e=this;(null===(t=event)||void 0===t||t.preventDefault(),this.emails.length>Number(this.subscriptions.cc)-1)?this.$notify.info({message:"you have reached the max carbon copy members, go to billing to upgrade"}):this.emails.findIndex((function(t){return t==e.email}))>=0||!this.email||(this.emails.push(this.email),this.email="")}},components:{SpinnerDottedIcon:c.default}}),f=(n(1047),n(1)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-dialog",{staticClass:"relative",attrs:{visible:t.showModal,"append-to-body":!0,"show-close":!1,center:""},on:{"update:visible":function(e){t.showModal=e}},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{staticClass:"text-center font-semibold text-2xl text-gray-800 pb-2"},[t._v("\n      Carbon Copy Flow\n    ")])]},proxy:!0}])},[e("div",{staticClass:"absolute -top-3 -right-3",staticStyle:{padding:"inherit"}},[e("span",{staticClass:"circle circle-12 bg-white cursor-pointer text-red-600",on:{click:function(e){return t.closeModal()}}},[e("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 3.19188L7.02451 0.167368C7.24767 -0.0557892 7.60948 -0.0557892 7.83263 0.167368C8.05579 0.390524 8.05579 0.752333 7.83263 0.975489L4.80812 4L7.83263 7.02451C8.05579 7.24767 8.05579 7.60948 7.83263 7.83263C7.60948 8.05579 7.24767 8.05579 7.02451 7.83263L4 4.80812L0.975489 7.83263C0.752333 8.05579 0.390524 8.05579 0.167368 7.83263C-0.0557892 7.60948 -0.0557892 7.24767 0.167368 7.02451L3.19188 4L0.167368 0.975489C-0.0557892 0.752333 -0.0557892 0.390524 0.167368 0.167368C0.390524 -0.0557892 0.752333 -0.0557892 0.975489 0.167368L4 3.19188Z",fill:"#414042"}})])])]),t._v(" "),t._v(" "),e("div",{staticClass:"max-w-[470px] mx-auto"},[e("form",{staticClass:"",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.addItem.apply(null,arguments)}}},[e("div",{staticClass:"grid grid-cols-[1fr,min-content] items-center gap-3 mb-8"},[e("el-input",{attrs:{placeholder:"Email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),e("button",{staticClass:"circle circle-18 bg-gray-600 text-white font-medium text-xl",attrs:{type:"submit"}},[t._v("\n          +\n        ")])],1)]),t._v(" "),t._l(t.emails,(function(em){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.emails.length>0,expression:"emails.length > 0"}],key:em,staticClass:"p-4 my-2 flex items-center h-12 justify-between border-[1px] border-gray-500 rounded px-3 py-2"},[e("label",{staticClass:"w-full block"},[t._v(" "+t._s(em))]),t._v(" "),e("abbr",[e("button",{staticClass:"w-9 h-9 rounded-full justify-center items-center text-white text-3xl font-[100] bg-red-600",on:{click:function(e){return t.removeItem(em)}}},[t._v("\n        ×\n      ")])])])})),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.emails.length,expression:"emails.length == 0"}],staticClass:"p-4 text-gray-400"},[t._v("\n        Add emails above\n      ")]),t._v(" "),e("button",{staticClass:"w-full mt-8 flex justify-center items-center bg-paperdazgreen-400 rounded-lg text-white h-12",class:[t.loading?"opacity-40":"opacity-100"],attrs:{disabled:t.loading,type:"submit"},on:{click:t.onSubmit}},[t._v("\n      Send\n      "),t.loading?e("SpinnerDottedIcon",{staticClass:"animate-spin ml-2",attrs:{width:"20"}}):t._e()],1)],2)])}),[],!1,null,"60ded996",null);e.default=component.exports}}]);