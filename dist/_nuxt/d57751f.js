(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{1082:function(t,e,n){var content=n(1233);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("192e29c6",content,!0,{sourceMap:!1})},1232:function(t,e,n){"use strict";n(1082)},1233:function(t,e,n){var o=n(14)((function(i){return i[1]}));o.push([t.i,".input-annotation[data-v-4760f7c6]:focus{border:1px solid #5fa348;border-top:none;border-right:none;background:transparent}.input-annotation[data-v-4760f7c6]:blur{border:transparent}",""]),o.locals={},t.exports=o},1354:function(t,e,n){"use strict";n.r(e);n(417),n(77);var o=n(419),r={props:{isActive:Boolean,fontSize:Number,value:String,file:Object,justMounted:Boolean,tool:Object},data:function(){return{text:null,inputWidth:0}},created:function(){this.text=this.value},mounted:function(){this.$refs.text_box&&this.$refs.text_box.focus()},methods:{onBlur:function(){console.log("onBlur")}},watch:{value:function(t){this.text!=t&&(this.text=t)},text:function(t){var e=this;if(this.value!=t&&this.$emit("input",t),this.$refs.text_box&&this.$refs.text_hidden)if(t&&1!==t.length){var n=this.fontSize||11;if(t.length<this.value.length){var o=this.$refs.text_hidden.clientWidth;this.$refs.text_box.style.width="".concat(o,"px"),this.inputWidth=o}else{var r=this.$refs.text_hidden.clientWidth+n;this.$refs.text_box.style.width="".concat(r,"px"),this.inputWidth=r}}else setTimeout((function(){var t=e.$refs.text_hidden.clientWidth;e.$refs.text_box.style.width="".concat(t,"px"),e.inputWidth=t}),200)},fontSize:function(){if(this.$refs.text_box&&this.$refs.text_hidden){var t=this.fontSize||11,e=this.$refs.text_hidden.clientWidth+t;this.$refs.text_box.style.width="".concat(e,"px"),this.inputWidth=e}}},computed:{isCreator:function(){var t,e,n,r,l,d;return this.file.userId==(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)||(null===(n=this.$auth)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.teamAccess)==o.a.COMPANY_FILE&&(null===(l=this.$auth)||void 0===l||null===(d=l.user)||void 0===d?void 0:d.teamId)==this.file.userId},style:function(){var t;return{fontSize:"".concat((this.fontSize||11)*((null===(t=this.tool)||void 0===t?void 0:t.pageScaleX)||1),"px"),background:"transparent"}},hideStyle:function(){return{fontSize:"".concat(this.fontSize||11,"px"),visibility:"hidden",position:"absolute",background:"transparent"}}}},l=(n(1232),n(1)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-field tool",staticStyle:{height:"19px",display:"flex","align-items":"end"}},[!t.isActive&&!t.justMounted||t.isCreator?e("p",{style:t.style},[t._v(t._s(t.text||"Type here..."))]):e("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],ref:"text_box",staticClass:"input-annotation",style:t.style,attrs:{type:"text",placeholder:"Type here..."},domProps:{value:t.text},on:{blur:function(e){return t.$emit("onBlur")},input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),e("span",{ref:"text_hidden",style:t.hideStyle},[t._v(t._s(t.text||"Type here..."))])])}),[],!1,null,"4760f7c6",null);e.default=component.exports}}]);