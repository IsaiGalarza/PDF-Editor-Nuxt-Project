(window.webpackJsonp=window.webpackJsonp||[]).push([[257,54],{1008:function(t,e,r){var o=r(128).match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},1009:function(t,e,r){var o=r(128);t.exports=/MSIE|Trident/.test(o)},1010:function(t,e,r){var o=r(128).match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},1023:function(t,e,r){var content=r(1135);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("225629a9",content,!0,{sourceMap:!1})},1024:function(t,e,r){var content=r(1137);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("1bb39402",content,!0,{sourceMap:!1})},1134:function(t,e,r){"use strict";r(1023)},1135:function(t,e,r){var o=r(15)((function(i){return i[1]}));o.push([t.i,".profile-info-form input{height:2.25rem}@media (min-width: 640px){.profile-info-form input{height:2.5rem}}",""]),o.locals={},t.exports=o},1136:function(t,e,r){"use strict";r(1024)},1137:function(t,e,r){var o=r(15)((function(i){return i[1]}));o.push([t.i,".profile-info-form label[data-v-db249e4a]{margin-bottom:0.125rem;display:block;font-size:0.75rem;line-height:1rem}@media (min-width: 640px){.profile-info-form label[data-v-db249e4a]{font-size:1rem;line-height:1.5rem}}.profile-info-form label[data-v-db249e4a]{color:#707070}.dropdown[data-v-db249e4a]{position:absolute;top:100%;left:0px;width:100%;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:0.5rem;max-height:150px;overflow-y:scroll;margin-top:5px;border-radius:5px;box-shadow:1px 3px 5px rgba(203,206,206,.692)}.dropdown[data-v-db249e4a]::-webkit-scrollbar{width:5px;height:3px;cursor:pointer}.dropdown[data-v-db249e4a]::-webkit-scrollbar-thumb{--tw-bg-opacity:1;background-color:rgb(119 181 80 / var(--tw-bg-opacity));width:5px;border-radius:50px;cursor:pointer}.dropdown[data-v-db249e4a]::-webkit-scrollbar-track{cursor:pointer;border-width:1px;border-color:transparent}.dropdown>div>li[data-v-db249e4a]{list-style-type:none;padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.25rem;padding-right:0.25rem;transition:.2s}.dd-image[data-v-db249e4a]{transition:.2s}.dropdown>div:hover .dd-image[data-v-db249e4a]{width:20px;height:20px;border-radius:50px}.dropdown>div>li[data-v-db249e4a]:hover{padding-left:10px}.custom-input[data-v-db249e4a]{margin-right:0.5rem;width:3rem;border-radius:0.5rem;border-width:1px;--tw-border-opacity:1;border-color:rgb(226 228 232 / var(--tw-border-opacity));text-align:center;outline:2px solid transparent;outline-offset:2px}.width-full[data-v-db249e4a]{width:100%;text-align:left}",""]),o.locals={},t.exports=o},1166:function(t,e,r){"use strict";r.r(e);r(30),r(54),r(24),r(55);var o=r(3),n=r(6),c=(r(43),r(7),r(25),r(416),r(36),r(285),r(31),r(783),r(56),r(18),r(764)),l=(r(417),r(1037)),d=r(741),f=r(42),m=r(127),h=r(37),v=(r(1038),r(1039)),w=r(280),x=r(14),y=r(679);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C=Object(x.a)(h.a).extend({name:"UserForm",components:{InputField:c.default,MessageAlertWidget:d.default,LocationIcon:y.default,SpinnerDottedIcon:f.default},data:function(){return{dropDownContent:[],setDropDown:!1,formData:{firstName:"",lastName:"",email:"",phone:"",timezone:"",country:"",state:"",city:""},country:"",state:"",states:[],timezones:l.a,loading:!1,errorMessage:"",isLocationFetching:!1,isLocationError:!1,isLocationFetched:!1}},computed:_({},Object(m.e)(["initialUser"])),props:{editingDetails:{type:Boolean,default:!1}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchCountries();case 2:return e.next=4,t.fetchStates();case 4:t.formData.state=t.$auth.user?t.$auth.user.state:"";case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){for(var t=0,e=Object.keys(this.formData);t<e.length;t++){var r=e[t];this.formData[r]=this.$auth.user?this.$auth.user[r]:""}this.country=this.$auth.user.country,this.state=this.$auth.user.state},methods:{fetchUserCountryDetail:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isLocationFetching=!0,fetch("https://api.ipify.org/?format=json").then((function(t){return t.json()})).then((function(data){fetch("http://ip-api.com/json/".concat(data.ip)).then((function(t){return t.json()})).then((function(e){t.isLocationFetching=!1,t.isLocationFetched=!0,t.formData.country=e.country,t.formData.timezone=e.timezone,t.formData.city=e.city})).catch((function(){t.isLocationFetching=!1,t.isLocationError=!1}))})).catch((function(){t.isLocationFetching=!1,t.isLocationError=!1}));case 2:case"end":return e.stop()}}),e)})))()},inputPhone:function(t,title){var e=!0;return/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~a-zA-Z]/.test(t)&&(this.errorMessage="".concat(title," format not correct"),e=!1),e},cancleOut:function(t){"LI"!=t.target.tagname&&(this.setDropDown=!1)},setCountryInfo:function(t){var e=this;this.country=t.target.textContent.trim().toLowerCase(),this.setDropDown=!1;try{var r=v.a.filter((function(t){return t.name.common.toLowerCase().startsWith(e.country)}))[0];this.formData.timezone=r.timezones[0],this.state=r.capital[0]}catch(t){this.state=""}},displayCountry:function(){var t=this;""!=this.country.trim()?(this.setDropDown=!0,this.dropDownContent=v.a.map((function(t){return t})).filter((function(e){return e.name.common.toLowerCase().startsWith(t.country)})).sort()):this.setDropDown=!1},fetchCountries:function(){},fetchStates:function(){},onSubmit:function(){var t,e,r=this;if(null===(t=event)||void 0===t||t.preventDefault(),!this.loading){this.loading=!0,this.errorMessage="";var n=null===(e=this.$auth.user)||void 0===e?void 0:e.id;this.formData=_(_({},this.formData),{},{country:this.country,state:this.state}),this.$axios.$patch("/users/".concat(n),this.formData).then(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.filterUsers(),r.$notify.success({title:"Data write",message:"Data updated successfully!"}),r.loading=!1,t.next=5,r.$nextTick();case 5:r.$emit("stop-editing");case 6:case"end":return t.stop()}}),t)})))).catch((function(t){var e=t.response,o=Object(w.a)(e);r.errorMessage=o})).finally((function(){r.loading=!1}))}}},watch:{"formData.country":function(){this.formData.state="",this.fetchStates()},"$auth.user.country":function(){for(var t=0,e=Object.keys(this.formData);t<e.length;t++){var r=e[t];this.formData[r]=this.$auth.user?this.$auth.user[r]:""}this.country=this.$auth.user.country,this.state=this.$auth.user.state}}}),k=(r(1134),r(1136),r(1)),component=Object(k.a)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("form",{ref:"form",staticClass:"profile-info-form grid grid-cols-1 gap-y-3 sm:gap-5",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("message-alert-widget",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"mb-8",attrs:{message:t.errorMessage,type:"error"}}),t._v(" "),e("div",{staticClass:"grid gap-y-3 sm:gap-5",staticStyle:{"grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))"}},[e("div",[e("label",{attrs:{for:""}},[t._v("First Name")]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter first name...",disabled:!t.editingDetails},model:{value:t.formData.firstName,callback:function(e){t.$set(t.formData,"firstName",e)},expression:"formData.firstName"}})],1),t._v(" "),e("div",[e("label",{attrs:{for:""}},[t._v("Last Name")]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter last name...",disabled:!t.editingDetails},model:{value:t.formData.lastName,callback:function(e){t.$set(t.formData,"lastName",e)},expression:"formData.lastName"}})],1)]),t._v(" "),e("div",{staticClass:"grid gap-y-3 sm:gap-5",staticStyle:{"grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))"}},[e("div",[e("label",{attrs:{for:""}},[t._v("Email")]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter email...",required:"",type:"email",disabled:!0},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),t._v(" "),e("div",[e("label",{attrs:{for:""}},[t._v("Phone Number")]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter phone number...",disabled:!t.editingDetails},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)]),t._v(" "),e("span",{staticClass:"inline-flex items-center gap-3"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!this.isLocationError,expression:"!this.isLocationError"}],staticClass:"text-[12px]"},[t._v("Click on icon to  pin your location for us to get your timezone, city and country.   ")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:this.isLocationError,expression:"this.isLocationError"}],staticClass:"text-[12px] text-red-600"},[t._v("Error occure while trying to get your location, please try again  ")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!this.isLocationFetching,expression:"!this.isLocationFetching"}],staticClass:"cursor-pointer",on:{click:t.fetchUserCountryDetail}},[e("location-icon")],1),t._v(" "),e("transition",{attrs:{name:"fade",duration:100}},[e("span",{directives:[{name:"show",rawName:"v-show",value:this.isLocationFetching,expression:"this.isLocationFetching"}],staticClass:"animate-spin"},[e("spinner-dotted-icon",{attrs:{height:"22",width:"22"}})],1)])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.isLocationFetched,expression:"this.isLocationFetched"}],staticClass:"grid gap-y-3 sm:gap-5",staticStyle:{"grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))"}},[e("div",{staticClass:"flex items-center"},[e("label",{staticClass:"mr-2",attrs:{for:""}},[t._v("Timezone:")]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter timezone",disabled:!t.editingDetails},model:{value:t.formData.timezone,callback:function(e){t.$set(t.formData,"timezone",e)},expression:"formData.timezone"}})],1),t._v(" "),e("div",{staticClass:"flex items-center"},[e("label",{staticClass:"mr-2",attrs:{for:""}},[t._v("Location:")]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter country ...",disabled:!t.editingDetails},model:{value:t.formData.country,callback:function(e){t.$set(t.formData,"country",e)},expression:"formData.country"}})],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.isLocationFetched,expression:"this.isLocationFetched"}],staticClass:"grid gap-y-3 sm:gap-5",staticStyle:{"grid-template-columns":"repeat(auto-fit, minmax(300px, 1fr))"}},[e("div",{staticClass:"flex items-center"},[e("label",{staticClass:"mr-2",attrs:{for:""}},[t._v("State:")]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter state",disabled:!t.editingDetails},model:{value:t.formData.city,callback:function(e){t.$set(t.formData,"city",e)},expression:"formData.city"}})],1),t._v(" "),e("div",{staticClass:"flex items-center"})]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.editingDetails,expression:"editingDetails"}],staticClass:"flex items-center justify-center mt-2"},[e("button",{staticClass:"shadow h-10 px-5 text-white rounded-md bg-paperdazgreen-300 disabled:opacity-50",attrs:{disabled:!t.editingDetails||t.loading}},[e("span",{staticClass:"inline-flex items-center gap-3"},[e("span",[t._v("Update")]),t._v(" "),e("transition",{attrs:{name:"fade",duration:100}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"animate-spin"},[e("spinner-dotted-icon",{attrs:{height:"22",width:"22"}})],1)])],1)])])])],1)}),[],!1,null,"db249e4a",null);e.default=component.exports},679:function(t,e,r){"use strict";r.r(e);var o={name:"location-icon",props:["width"]},n=r(1),component=Object(n.a)(o,(function(){var t=this._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"14",height:"16",viewBox:"0 0 14 16",fill:"none"}},[t("path",{attrs:{"fill-rule":"black","clip-rule":"black",d:"M1.17773 6.63956C1.18854 3.45912 3.77556 0.889619 6.956 0.900425C10.1364 0.91123 12.7059 3.49825 12.6951 6.67869V6.7439C12.656 8.81129 11.5016 10.7222 10.0864 12.2156C9.27707 13.0561 8.37324 13.8002 7.39295 14.433C7.13083 14.6598 6.74203 14.6598 6.47991 14.433C5.01854 13.4818 3.73594 12.2809 2.69078 10.8852C1.75925 9.66812 1.23036 8.19088 1.17773 6.65912L1.17773 6.63956Z",stroke:"#000","stroke-width":"1.125","stroke-linecap":"round","stroke-linejoin":"round"}}),this._v(" "),t("circle",{attrs:{cx:"6.9355",cy:"6.74995",r:"1.84565",stroke:"#000","stroke-width":"1.125","stroke-linecap":"round","stroke-linejoin":"round"}})])}),[],!1,null,"3f4ff4cc",null);e.default=component.exports}}]);