(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{1067:function(t,e,n){var content=n(1233);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("751b1510",content,!0,{sourceMap:!1})},1232:function(t,e,n){"use strict";n(1067)},1233:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,'.input-annotation[data-v-5111754e]:focus{border:none;border-bottom:1px solid transparent;border-left:1px solid #5fa348;background:transparent}.input-annotation[data-v-5111754e]{outline:none}.input-annotation[data-v-5111754e]:blur{border:transparent}.input-annotation[placeholder][data-v-5111754e]:empty:before{content:"Type here...";opacity:.5;color:#555}',""]),o.locals={},t.exports=o},1369:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(18),n(279),n(76),n(421)),l={props:{isActive:Boolean,fontSize:Number,value:String,file:Object,justMounted:Boolean,tool:Object,generatePDF:Boolean,responsiveToolDim:Object},data:function(){return{text:null,inputWidth:0,svgToImageData:"",isBlur:!0}},created:function(){this.text=this.value},mounted:function(){this.$refs.text_box&&this.$refs.text_box.focus()},methods:{keyUp:function(t){13===t.keyCode&&t.preventDefault()},changeWidth:function(){this.$refs.text_box.style.width=this.$refs.text_box.scrollWidth+"px"},setBlur:function(){this.$emit("onBlur"),this.isBlur=!this.isBlur},onBlur:function(){console.log("onBlur")},svgToImage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.svgToImageData="",n="",e.next=4,htmlToImage.toPng(t.$refs.text_box).then((function(t){n=t})).catch((function(t){console.error("oops, something went wrong!",t)}));case 4:t.svgToImageData=n,console.log("dazppp---text",n);case 6:case"end":return e.stop()}}),e)})))()}},watch:{generatePDF:function(){this.generatePDF&&this.svgToImage()},value:function(t){this.text!=t&&(this.text=t)},text:function(t){var e=this;if(this.value!=t&&this.$emit("input",t),this.$refs.text_box&&this.$refs.text_hidden)if(t&&1!==t.length){var n=this.fontSize||11;if(t.length<this.value.length){var o=this.$refs.text_hidden.clientWidth;this.$refs.text_box.style.width="".concat(o,"px"),this.inputWidth=o}else{var r=this.$refs.text_hidden.clientWidth+n;this.$refs.text_box.style.width="".concat(r,"px"),this.inputWidth=r}}else setTimeout((function(){var t=e.$refs.text_hidden.clientWidth;e.$refs.text_box.style.width="".concat(t,"px"),e.inputWidth=t}),200)},fontSize:function(){if(this.$refs.text_box&&this.$refs.text_hidden){var t=this.fontSize||11,e=this.$refs.text_hidden.clientWidth+t;this.$refs.text_box.style.width="".concat(e,"px"),this.inputWidth=e}}},computed:{initialFontSize:function(){var t;return(this.fontSize||12)*((null===(t=this.tool)||void 0===t?void 0:t.pageScaleX)||1)},computedFontsize:function(){var t;return"".concat((this.fontSize||12)*((null===(t=this.tool)||void 0===t?void 0:t.pageScaleX)||1)*this.responsiveToolDim.width,"px")},isCreator:function(){var t,e,n,o,l,c;return this.file.userId==(null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id)||(null===(n=this.$auth)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.teamAccess)==r.a.COMPANY_FILE&&(null===(l=this.$auth)||void 0===l||null===(c=l.user)||void 0===c?void 0:c.teamId)==this.file.userId},style:function(){return{fontSize:this.computedFontsize,background:"transparent"}},hideStyle:function(){return{fontSize:"".concat(this.fontSize||11,"px"),visibility:"hidden",position:"absolute",background:"transparent"}}}},c=(n(1232),n(1)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-field tool"},[e("p",{ref:"text_box",staticClass:"input-annotation whitespace-nowrap",style:t.style,attrs:{type:"text",contenteditable:"true",textImageContent:t.svgToImageData,initialFontSize:t.initialFontSize,height:1.5*t.initialFontSize,scalefactor:t.responsiveToolDim.width,placeholder:"Type here..."},on:{input:t.changeWidth,keyup:t.keyUp}})])}),[],!1,null,"5111754e",null);e.default=component.exports}}]);